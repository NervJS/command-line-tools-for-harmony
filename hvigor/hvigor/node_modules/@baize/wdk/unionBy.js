"use strict";
/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2023. All rights reserved.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var uniqBy_1 = __importDefault(require("./uniqBy"));
var isArrayLikeObject_1 = __importDefault(require("./isArrayLikeObject"));
var last_1 = __importDefault(require("./last"));
var flatten_1 = __importDefault(require("./flatten"));
var uniq_1 = __importDefault(require("./uniq"));
/**
 * 和 union 类似，提供一个 iteratee 来对 union 的数组做去重
 *
 * @export
 * @param {...any[]} arrays 要union的数组,最后一个参数可以传递 iteratee 参数
 * @returns {any[]} union 后的数组
 * @example
 *
 * unionBy([2.1], [1.2, 2.3], Math.floor)
 * // => [2.1, 1.2]
 */
function unionBy() {
    var arrays = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        arrays[_i] = arguments[_i];
    }
    var iteratee = (0, last_1.default)(arrays);
    if ((0, isArrayLikeObject_1.default)(iteratee)) {
        return (0, uniq_1.default)((0, flatten_1.default)(arrays));
    }
    arrays.pop();
    return (0, uniqBy_1.default)((0, flatten_1.default)(arrays), iteratee);
}
exports.default = unionBy;
