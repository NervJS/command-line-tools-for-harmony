"use strict";var __importDefault=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateDataBySchema=void 0;const os_1=__importDefault(require("os")),util_1=__importDefault(require("util")),ajv_1=__importDefault(require("ajv")),ajv=new ajv_1.default({strict:!1,allErrors:!0});function validateDataBySchema(a,e,t){let r=ajv.getSchema(e);r||(ajv.addSchema(t,e),r=ajv.getSchema(e));const s=r(a);if(s||!r.errors)return{isValid:s,errMsg:""};const i=[];r.errors.forEach((a=>{const e={instancePath:a.instancePath,keyword:a.keyword,params:a.params,message:a.message};i.push(e)}));return{isValid:s,errMsg:i.map((a=>util_1.default.format(a,os_1.default.EOL))).join("")}}exports.validateDataBySchema=validateDataBySchema;