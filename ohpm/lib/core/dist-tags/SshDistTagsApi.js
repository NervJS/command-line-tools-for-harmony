"use strict";var t=this&&this.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function u(t){try{c(i.next(t))}catch(t){r(t)}}function o(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(u,o)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SshDistTagsApi=void 0;const e=require("./DistTagsApi"),s=require("./types"),i=require("../registry"),n=require("../../util");class r extends e.DistTagsApi{constructor(t){super(t)}add(e,r,u){return t(this,void 0,void 0,(function*(){const{token:t}=yield(0,i.loginRequest)(this.publishRegistry),o=this.getRequestUrl(e,u);yield this.fetchDistTagsRequest(o,t,s.DistTagsSubCommand.ADD,s.HttpMethod.POST,r),n.PrintUtil.printSucceedMsg(`Package "${e}@${r}" add tag "${u}" success.`)}))}remove(e,r){return t(this,void 0,void 0,(function*(){const{token:t}=yield(0,i.loginRequest)(this.publishRegistry),u=this.getRequestUrl(e,r);yield this.fetchDistTagsRequest(u,t,s.DistTagsSubCommand.ADD,s.HttpMethod.DELETE),n.PrintUtil.printSucceedMsg(`Package "${e}" remove tag "${r}" success.`)}))}update(e,r,u){return t(this,void 0,void 0,(function*(){const{token:t}=yield(0,i.loginRequest)(this.publishRegistry),o=this.getRequestUrl(e,u);yield this.fetchDistTagsRequest(o,t,s.DistTagsSubCommand.ADD,s.HttpMethod.PUT,r),n.PrintUtil.printSucceedMsg(`Package "${e}@${r}" update tag "${u}" success.`)}))}}exports.SshDistTagsApi=r;