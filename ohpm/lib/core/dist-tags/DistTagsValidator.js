"use strict";var r=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistTagsValidator=void 0;const e=require("../../common/Regex"),s=require("../../common/message"),a=require("./types"),t=r(require("semver/functions/valid")),i=require("./isStandardTag");exports.DistTagsValidator=class{static validTag(r){if(!(0,i.isStandardTag)(r))throw new Error((0,s.format)(s.Messages.DistTags.TagInvalidError,{tag:r}))}static validPkgName(r){if(!e.Regex.OHPM_PACKAGE_NAME_REGEX.test(r))throw new Error((0,s.format)(s.Messages.Check.InvalidPkgName,{name:r}))}static validApiCommand(r,e){if(r!==a.DistTagsSubCommand.ADD&&r!==a.DistTagsSubCommand.UPDATE||this.validVersion(e.version),!e.pkgName||!e.tag)throw new Error((0,s.format)(s.Messages.DistTags.SubCommandParamError,{subCommand:r}));if(!e.publishRegistry)throw new Error(s.Messages.DistTags.PublishRegistryEmptyError)}static validVersion(r){if(!r)throw new Error(s.Messages.DistTags.VersionEmptyError);if(!(0,t.default)(r))throw new Error((0,s.format)(s.Messages.Check.NotSemanticVersion,{version:r}))}};