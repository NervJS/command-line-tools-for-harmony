"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParamParser=void 0;const e=["--","-"],t=/^-{1,2}\w.*$/;exports.ParamParser=class{isKey(e){return!!e&&t.test(e)}parse(e,t){if(t.length<=0)return e;for(let r=0;r<t.length;r++){if(!this.isKey(t[r]))continue;const s=this.getIndexOfEqualTag(t[r]);e=this.findAndRemove(s,t[r],e)}return e.concat(t)}findAndRemove(e,t,r){let s=-1;for(let i=0;i<r.length;i++){if(!this.isKey(r[i]))continue;t=e<0?t:t.slice(0,e);const n=this.getIndexOfEqualTag(r[i]),a=n<0?r[i]:r[i].slice(0,n);if(this.ignorePrefixEquals(t,a)){s=i;break}}return-1!==s&&(r=this.deleteSameParam(s,r)),r}deleteSameParam(e,t){let r=1;return-1===this.getIndexOfEqualTag(t[e])&&t.length>e+1&&(r=this.isKey(t[e+1])?1:2),t.splice(e,r),t}ignorePrefixEquals(t,r){for(let s=0;s<e.length;s++){const i=e[s];t.startsWith(i)&&(t=t.replace(i,"")),r.startsWith(i)&&(r=r.replace(i,""))}return 0===t.localeCompare(r)}getIndexOfEqualTag(e){const t=e.indexOf("=");return t<0?-1:t}};