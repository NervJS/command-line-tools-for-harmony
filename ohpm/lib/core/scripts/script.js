"use strict";var t=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function u(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.script=void 0;const e=require("./ScriptRunner"),n=require("./compiler");function i(e,i){return t(this,void 0,void 0,(function*(){if(null===e)return!0;let t=!1;for(;!e.isEmpty();){const o=e.pop();if(!o)continue;const u=o.getName();if((0,n.isLogicalSymbol)(u)){if(u===n.SPIRIT_AND&&!t||u===n.SPIRIT_OR&&t)break}else t=yield r(o,i)}return t}))}function r(n,r){return t(this,void 0,void 0,(function*(){return n.getIsOhpm()?i(n.getChildren(),r):e.ScriptRunner.runAlias(n.getName(),n.getScripts(),r)}))}exports.script=function(e,r,o){return t(this,void 0,void 0,(function*(){return i(yield(0,n.compiler)(e,r,o,!0),o)}))};