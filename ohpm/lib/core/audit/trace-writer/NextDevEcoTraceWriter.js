"use strict";var t=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,c){function o(t){try{s(r.next(t))}catch(t){c(t)}}function a(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}s((r=r.apply(t,e||[])).next())}))},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NextDevEcoTraceWriter=void 0;const i=require("../../../util/FsUtil"),r=require("../utils/TraceToEventUtils"),n=e(require("../auditConfig.json"));class c{static getInstance(){return this.INSTANCE||(this.INSTANCE=new c),this.INSTANCE}constructor(){}getTraceFilePath(){return n.default.nextDevEcoAuditFileSavePath}write(e){return t(this,void 0,void 0,(function*(){const t=yield(0,r.convertTraceToEvent)(e,!0);yield i.FsUtil.createFile(this.getTraceFilePath()),yield i.FsUtil.writeFile(this.getTraceFilePath(),`${JSON.stringify(t)}\n`,{flag:"a"})}))}}exports.NextDevEcoTraceWriter=c;