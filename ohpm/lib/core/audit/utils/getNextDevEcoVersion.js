"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))},e=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNextDevEcoVersion=void 0;const r=n(require("readline")),o=n(require("fs")),i=require("../../../common/Constants"),u=require("../../../util/FsUtil"),a=n(require("../auditConfig.json"));exports.getNextDevEcoVersion=function(){var n,s,c,l;return t(this,void 0,void 0,(function*(){if(!(yield u.FsUtil.exists(a.default.nextDevEcoConfigFilePath)))return i.Constants.PmVersion;const t=o.default.createReadStream(a.default.nextDevEcoConfigFilePath),f=r.default.createInterface({input:t,crlfDelay:1/0});try{try{for(var y,d=!0,v=e(f);y=yield v.next(),!(n=y.done);){l=y.value,d=!1;try{const t=l;if(!t)continue;const e=t.indexOf("=");if(-1===e)continue;const n=t.substring(0,e).trim(),r=t.substring(e+1).trim();if("APPLICATION_VERSION"===n)return r.replace(/['"]/g,"")}finally{d=!0}}}catch(t){s={error:t}}finally{try{d||n||!(c=v.return)||(yield c.call(v))}finally{if(s)throw s.error}}}finally{f.close()}return i.Constants.PmVersion}))};