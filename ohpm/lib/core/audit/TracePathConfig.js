"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TracePathConfig=void 0;const r=require("../../common/Constants"),t=e(require("path")),i=e(require("os")),s=require("../../util"),o=e(require("semver")),a=require("../../common/message"),n=require("../../util/OsUtil");class _{static getTraceLogDir(){let e=r.Constants.PmVersion;if(!e)throw new Error(a.Messages.TraceWriter.GetOhpmVersionFail);if(e=e.includes("-")?e.split("-")[0]:e,!o.default.valid(e))throw new Error(a.Messages.TraceWriter.OhpmVersionInvalid);const c=e.lastIndexOf("."),u=_.IDE_NAME.concat(e.slice(0,c)),l=n.OsUtil.isWindows?_.TRACE_LOG_PATH:_.TRACE_MAC_LOG_PATH,E=t.default.join(i.default.homedir(),l,u,_.TRACE_LOG_DIRNAME);if(!s.FsBlockingUtil.existsSync(E))throw new Error((0,a.format)(a.Messages.TraceWriter.TraceLogPathUnExist,{logPath:E}));return E}}exports.TracePathConfig=_,_.TRACE_LOG_PATH="AppData/Local/Huawei",_.TRACE_MAC_LOG_PATH="Library/Caches/Huawei",_.IDE_NAME="DevEcoStudio",_.TRACE_LOG_DIRNAME="TraceLogData",_.TRACE_FILE_NAME_PREFIX="+++~!@##$_",_.SERVICE_FLAG="DevEcoStudio_Ohpm";