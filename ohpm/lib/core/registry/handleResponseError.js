"use strict";var t=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(s,n){function u(t){try{a(o.next(t))}catch(t){n(t)}}function i(t){try{a(o.throw(t))}catch(t){n(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,i)}a((o=o.apply(t,e||[])).next())}))},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleResponseError=void 0;const r=e(require("../../log")),o=require("./getCmcResErrMsg"),s=require("../../common/message");exports.handleResponseError=function(e,n){return t(this,void 0,void 0,(function*(){const t=yield e.json();throw 400===e.status?r.default.error(`HttpCode ${e.status}`,`${t.error||(0,o.getCmcResErrMsg)(t)}`):r.default.error(`HttpCode ${e.status}`,`${t.error||e.statusText}`),Object.assign(new Error((0,s.format)(s.Messages.Http.ActionRequestUrlFailed,{url:e.url,action:n})),{code:e.status})}))};