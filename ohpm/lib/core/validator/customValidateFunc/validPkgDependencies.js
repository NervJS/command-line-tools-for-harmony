"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validPkgDependencies=void 0;const e=require("../../dependency/util"),n=require("../../dependency/util/isInnerPkgDependency"),s=require("../../dist-tags/isStandardTag"),t=require("../../../common/Constants"),r=require("../../../common/message"),i=require("../../../config");exports.validPkgDependencies=function(a){const o=[];if(Object.keys(a).forEach((d=>{const c=a[d],g=i.config.get(i.types.DISALLOW_NESTED_PACKAGE),p=(0,n.isInnerPkgDependency)(c),l=(0,e.isLocalDependency)(c)&&!p,u=g&&p&&(c.endsWith(t.Constants.TGZ_SUFFIX)||c.endsWith(t.Constants.HAR_SUFFIX));(l||u)&&o.push((0,r.format)(r.Messages.Validator.InvalidDependency,{depKey:`${d}: ${c}`})),c.length>64&&o.push((0,r.format)(r.Messages.Validator.SpecLengthError,{depKey:`${d}: ${c}`})),(0,e.isTagDependency)(c)&&!(0,s.isStandardTag)(c.slice(t.Constants.TAG_PREFIX.length))&&o.push((0,r.format)(r.Messages.DistTags.TagPkgInvalidError,{tag:c.slice(t.Constants.TAG_PREFIX.length),pkg:d}))})),0!==o.length)throw new Error(o.join("\n"))};