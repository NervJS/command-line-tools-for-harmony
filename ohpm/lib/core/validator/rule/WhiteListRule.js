"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WhiteListRule=void 0;const e=require("./types"),i=t(require("../../../log"));exports.WhiteListRule=class{constructor(t,e){this.whiteList=t,this.errorCallback=e}validate(t,s,r){r=r||s,i.default.debug("",`start WhiteListRule.validate attribute "${r}" in publishJson.`);const u=t[s];u&&!this.whiteList.includes(u)&&this.errorCallback(r,{attrName:r,ruleType:e.ValidationRuleType.WhiteList,errorMsg:this.getErrorMsg(r,u)}),i.default.debug("",`WhiteListRule.validate attribute "${r}" in publishJson succeed.`)}getErrorMsg(t,e){return`attribute "${t}":"${e}" in "oh-package.json5" not in the whiteList: ${JSON.stringify(this.whiteList)}`}};