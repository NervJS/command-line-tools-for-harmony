"use strict";var e=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function a(e){try{u(o.next(e))}catch(e){n(e)}}function c(e){try{u(o.throw(e))}catch(e){n(e)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}u((o=o.apply(e,r||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.readDepNameFromSourceCode=void 0;const r=require("../../../util/FsUtil"),t=require("../../../util"),o=require("./readPackageJsonFromLocalDir"),i=require("../../../common/message");exports.readDepNameFromSourceCode=function(n){return e(this,void 0,void 0,(function*(){if(!(yield r.FsUtil.exists(n)))throw new Error((0,i.format)(i.Messages.Fetcher.SourceCode.FetchSourceCodeFailed,{path:n}));const e=(yield(0,o.readPackageJsonFromLocalDir)(n)).name;return t.PackageUtil.requireNotEmpty(e,`The name of package ${n}`),e}))};