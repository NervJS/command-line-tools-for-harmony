"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InnerDepCache=void 0;const e=require("./InnerDependency"),n=require("./AddressChain");exports.InnerDepCache=class{constructor(){this.cacheSet=new Set,this.cacheQueue=[]}size(){return this.cacheQueue.length}pop(){return this.cacheQueue.shift()}push(e){this.cacheQueue.push(e)}addDependencyNode(n){if(this.cacheSet.has(n.nodeKey))return;this.cacheSet.add(n.nodeKey);const s=this.dependencyNode2AddressChain(n),t=this.cacheQueue.find((e=>e.name===n.name));if(t)t.chains.push(s);else{const t=new e.InnerDependency(n.name,s);this.cacheQueue.push(t)}}has(e){for(const n of this.cacheQueue)for(let s=0;s<n.chains.length;s++){const t=n.chains[s].tail;if(t&&t.value.nodeKey===e)return!0}return!1}dependencyNode2AddressChain(e){const s=e.innerAddressChain,t=new n.AddressChain;for(const e of s)t.push({value:e,next:void 0});return t}};