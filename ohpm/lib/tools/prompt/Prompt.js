"use strict";var t=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{a(s.next(t))}catch(t){i(t)}}function c(t){try{a(s.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,c)}a((s=s.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.prompt=void 0;const e=require("readline");exports.prompt=new class{constructor(){this.isStarted=!1}start(e,r){return t(this,void 0,void 0,(function*(){if(this.setUp(),!this.rdlInterface)return;const t=e.question.concat(e.dValue?`(${e.dValue}): `:": ");this.rdlInterface.question(t,(t=>{t||e.dValue||!e.required?r.onSuccess(t||(e.dValue?e.dValue:"")):r.onSuccess("")}))}))}tearDown(){this.isStarted&&this.rdlInterface&&(this.isStarted=!1,this.rdlInterface.close(),this.rdlInterface=void 0)}setUp(){this.isStarted||(this.rdlInterface=e.createInterface({input:process.stdin,output:process.stdout}),this.rdlInterface&&(this.rdlInterface.on("close",this.tearDown),this.isStarted=!0))}};