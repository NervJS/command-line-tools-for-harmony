<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: Preview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___preview.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Preview</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides APIs for file preview capability.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:open__file__boost_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="open__file__boost_8h.html">open_file_boost.h</a></td></tr>
<tr class="memdesc:open__file__boost_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares the APIs used to speed up the opening time of large files. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:preview__kit_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="preview__kit_8h.html">preview_kit.h</a></td></tr>
<tr class="memdesc:preview__kit_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare all header files contained in the preview kit. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa8a8ed5c9e057542ff818fde39a94f07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#gaa8a8ed5c9e057542ff818fde39a94f07">MAX_BUFFER_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:gaa8a8ed5c9e057542ff818fde39a94f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of sandbox buffer.  <a href="#gaa8a8ed5c9e057542ff818fde39a94f07">More...</a><br /></td></tr>
<tr class="separator:gaa8a8ed5c9e057542ff818fde39a94f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8de1d5d3db37e7701a91f24a56dee641"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___preview.html#gafae4452b9e410d76236258ec57e0af62">OpenFileBoost_AppState</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga8de1d5d3db37e7701a91f24a56dee641">HMS_OpenFileBoost_QueryAppState</a>) (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a>)</td></tr>
<tr class="memdesc:ga8de1d5d3db37e7701a91f24a56dee641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the system queries the app status. This function calls back the app before calling the <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a> recommendation file. This function is used by the system to query whether files can be recommended to the app. For example, if the app is in the foreground focus or in some special states and is not suitable for preloading files, the app returns a specific enumerated value to reject preloading.  <a href="#ga8de1d5d3db37e7701a91f24a56dee641">More...</a><br /></td></tr>
<tr class="separator:ga8de1d5d3db37e7701a91f24a56dee641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb236400dadbd94b0586c7f234ad23b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___preview.html#ga773c6beb8645cfe54e1ce7eab67b8161">OpenFileBoost_CbErrCode</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a>) (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *fileInfo)</td></tr>
<tr class="memdesc:ga7cb236400dadbd94b0586c7f234ad23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the system recommends or cancels the recommendation of a preloaded file to an app. The system predicts the files that may be opened by the user and notifies the app through the callback function. In some scenarios, for example, the available memory of the system is insufficient or other files are more likely to be opened by the user, the system instructs the app to cancel the preloading of some files.  <a href="#ga7cb236400dadbd94b0586c7f234ad23b">More...</a><br /></td></tr>
<tr class="separator:ga7cb236400dadbd94b0586c7f234ad23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5716dcdf88f1609b3466aadc675a0efc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> { <br />
&#160;&#160;<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> = 0, 
<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca0f98a8619b207da2df52b68114279791">OPEN_FILE_BOOST_PERMISSION_NOT_GRANTED</a> = 201, 
<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca53831f008476da6270ac76948c2fcb39">OPEN_FILE_BOOST_INVALID_PARAM</a> = 401, 
<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca352cfd374e4bc89300a3d80f326e75fe">OPEN_FILE_BOOST_INTERNAL_ERROR</a> = 1017200001, 
<br />
&#160;&#160;<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca181f88e15bb396fc9651da624e6bb1fd">OPEN_FILE_BOOST_INSUFFICIENT_BUFFER</a> = 1017200002, 
<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca1f0c5c3099f3dfb10205800c8b8aef98">OPEN_FILE_BOOST_SERVICE_UNAVAILABLE</a> = 1017200003, 
<a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca6f8a2fec69b35802955314dd4855e847">OPEN_FILE_BOOST_NO_MEMORY</a> = 1017200004
<br />
 }<tr class="memdesc:ga5716dcdf88f1609b3466aadc675a0efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates the error code for file open acceleration.  <a href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga5716dcdf88f1609b3466aadc675a0efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga773c6beb8645cfe54e1ce7eab67b8161"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga773c6beb8645cfe54e1ce7eab67b8161">OpenFileBoost_CbErrCode</a> { <a class="el" href="group___preview.html#gga773c6beb8645cfe54e1ce7eab67b8161a24959359af6a1f60d9c941371a0d041a">OPEN_FILE_BOOST_CALLBACK_SUCCESS</a> = 0, 
<a class="el" href="group___preview.html#gga773c6beb8645cfe54e1ce7eab67b8161a0c3ca9038cfaf1da542483e276203abd">OPEN_FILE_BOOST_CALLBACK_FAILURE</a> = 1017210000
 }<tr class="memdesc:ga773c6beb8645cfe54e1ce7eab67b8161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates the error codes of the callback function <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a>. It is used by the app to return the callback function execution result to the system.  <a href="group___preview.html#ga773c6beb8645cfe54e1ce7eab67b8161">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga773c6beb8645cfe54e1ce7eab67b8161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae4452b9e410d76236258ec57e0af62"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#gafae4452b9e410d76236258ec57e0af62">OpenFileBoost_AppState</a> { <a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a6e2705a4720cb0ef9633c94b7f565373">OPEN_FILE_BOOST_APP_STATE_ALLOW_PRELOAD</a> = 0, 
<a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a836aae15d26a000649e76094797d2ee4">OPEN_FILE_BOOST_APP_STATE_REJECT_PRELOAD</a> = 1, 
<a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a964b02639511ff532c982cc98444d648">OPEN_FILE_BOOST_APP_STATE_FOREVER_REJECT_PRELOAD</a> = 2
 }<tr class="memdesc:gafae4452b9e410d76236258ec57e0af62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates the app status, indicating whether the app allows the system to recommend preloaded files.  <a href="group___preview.html#gafae4452b9e410d76236258ec57e0af62">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gafae4452b9e410d76236258ec57e0af62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga13429f2e33ddd0805274b46223a3f5b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga13429f2e33ddd0805274b46223a3f5b3">HMS_OpenFileBoost_GetFdFromPreloadFileInfo</a> (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *fileInfo, int32_t *fd)</td></tr>
<tr class="memdesc:ga13429f2e33ddd0805274b46223a3f5b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the file descriptor information.  <a href="#ga13429f2e33ddd0805274b46223a3f5b3">More...</a><br /></td></tr>
<tr class="separator:ga13429f2e33ddd0805274b46223a3f5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16b482acdc9b56ebd8d01efed6875e95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga16b482acdc9b56ebd8d01efed6875e95">HMS_OpenFileBoost_GetSandboxPathFromPreloadFileInfo</a> (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *fileInfo, char *sandboxPath, int32_t pathLen)</td></tr>
<tr class="memdesc:ga16b482acdc9b56ebd8d01efed6875e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the sandbox path information.  <a href="#ga16b482acdc9b56ebd8d01efed6875e95">More...</a><br /></td></tr>
<tr class="separator:ga16b482acdc9b56ebd8d01efed6875e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ff9ab52e40e265bc90a9cca779d0fd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga0ff9ab52e40e265bc90a9cca779d0fd1">HMS_OpenFileBoost_RegisterFilePreload</a> (<a class="el" href="group___preview.html#ga8de1d5d3db37e7701a91f24a56dee641">HMS_OpenFileBoost_QueryAppState</a> queryAppState, <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a> filePreload, <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a> cancelFilePreload)</td></tr>
<tr class="memdesc:ga0ff9ab52e40e265bc90a9cca779d0fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the callbacks used for preloading.  <a href="#ga0ff9ab52e40e265bc90a9cca779d0fd1">More...</a><br /></td></tr>
<tr class="separator:ga0ff9ab52e40e265bc90a9cca779d0fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdef9962cc4c394dad2103bd8c773e90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#gafdef9962cc4c394dad2103bd8c773e90">HMS_OpenFileBoost_UnregisterFilePreload</a> (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a>)</td></tr>
<tr class="memdesc:gafdef9962cc4c394dad2103bd8c773e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters the preloading callback.  <a href="#gafdef9962cc4c394dad2103bd8c773e90">More...</a><br /></td></tr>
<tr class="separator:gafdef9962cc4c394dad2103bd8c773e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga613e9855b8e471157a522ba19bac4d5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preview.html#ga613e9855b8e471157a522ba19bac4d5e">HMS_OpenFileBoost_NotifyPreloadHit</a> (int32_t fd, char *sandboxPath, int32_t pathLen)</td></tr>
<tr class="memdesc:ga613e9855b8e471157a522ba19bac4d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls this API to notify the system of the preloading hit when a user opens a preloaded file. This helps improve the prediction accuracy of the preloaded file.  <a href="#ga613e9855b8e471157a522ba19bac4d5e">More...</a><br /></td></tr>
<tr class="separator:ga613e9855b8e471157a522ba19bac4d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides APIs for file preview capability. </p>
<p>Copyright (c) Huawei Technologies Co., Ltd. 2025-2025. All rights reserved.</p>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa8a8ed5c9e057542ff818fde39a94f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8a8ed5c9e057542ff818fde39a94f07">&#9670;&nbsp;</a></span>MAX_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BUFFER_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max length of sandbox buffer. </p>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00038">38</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga7cb236400dadbd94b0586c7f234ad23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cb236400dadbd94b0586c7f234ad23b">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_OnFilePreload</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group___preview.html#ga773c6beb8645cfe54e1ce7eab67b8161">OpenFileBoost_CbErrCode</a>(* HMS_OpenFileBoost_OnFilePreload) (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *fileInfo)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the system recommends or cancels the recommendation of a preloaded file to an app. The system predicts the files that may be opened by the user and notifies the app through the callback function. In some scenarios, for example, the available memory of the system is insufficient or other files are more likely to be opened by the user, the system instructs the app to cancel the preloading of some files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileInfo</td><td>Preloaded file information. The app can invoke <a class="el" href="group___preview.html#ga13429f2e33ddd0805274b46223a3f5b3">HMS_OpenFileBoost_GetFdFromPreloadFileInfo</a> to obtain the corresponding file descriptor information and then invoke <a class="el" href="group___preview.html#ga16b482acdc9b56ebd8d01efed6875e95">HMS_OpenFileBoost_GetSandboxPathFromPreloadFileInfo</a> to obtain the corresponding sandbox path information. The app must synchronously parse the preloaded file in the current callback context so that the system can evaluate the resource consumption of the preloaded file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga773c6beb8645cfe54e1ce7eab67b8161a24959359af6a1f60d9c941371a0d041a">OPEN_FILE_BOOST_CALLBACK_SUCCESS</a> if the function is executed successfully; returns <a class="el" href="group___preview.html#gga773c6beb8645cfe54e1ce7eab67b8161a0c3ca9038cfaf1da542483e276203abd">OPEN_FILE_BOOST_CALLBACK_FAILURE</a> if the function fails to be executed. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00114">114</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<a id="ga8de1d5d3db37e7701a91f24a56dee641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8de1d5d3db37e7701a91f24a56dee641">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_QueryAppState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group___preview.html#gafae4452b9e410d76236258ec57e0af62">OpenFileBoost_AppState</a>(* HMS_OpenFileBoost_QueryAppState) (<a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the system queries the app status. This function calls back the app before calling the <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a> recommendation file. This function is used by the system to query whether files can be recommended to the app. For example, if the app is in the foreground focus or in some special states and is not suitable for preloading files, the app returns a specific enumerated value to reject preloading. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a6e2705a4720cb0ef9633c94b7f565373">OPEN_FILE_BOOST_APP_STATE_ALLOW_PRELOAD</a> if the app allows file recommendation. Then the system calls <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a> to preload the recommendation file. If the app rejects the recommendation, <a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a836aae15d26a000649e76094797d2ee4">OPEN_FILE_BOOST_APP_STATE_REJECT_PRELOAD</a> is returned. If the app does not want to receive recommendations during the registration, <a class="el" href="group___preview.html#ggafae4452b9e410d76236258ec57e0af62a964b02639511ff532c982cc98444d648">OPEN_FILE_BOOST_APP_STATE_FOREVER_REJECT_PRELOAD</a> is returned and <a class="el" href="group___preview.html#gafdef9962cc4c394dad2103bd8c773e90">HMS_OpenFileBoost_UnregisterFilePreload</a> should be called to cancel the registration as soon as possible. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00098">98</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gafae4452b9e410d76236258ec57e0af62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafae4452b9e410d76236258ec57e0af62">&#9670;&nbsp;</a></span>OpenFileBoost_AppState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___preview.html#gafae4452b9e410d76236258ec57e0af62">OpenFileBoost_AppState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates the app status, indicating whether the app allows the system to recommend preloaded files. </p>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafae4452b9e410d76236258ec57e0af62a6e2705a4720cb0ef9633c94b7f565373"></a>OPEN_FILE_BOOST_APP_STATE_ALLOW_PRELOAD&#160;</td><td class="fielddoc"><p>App allow preload file. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafae4452b9e410d76236258ec57e0af62a836aae15d26a000649e76094797d2ee4"></a>OPEN_FILE_BOOST_APP_STATE_REJECT_PRELOAD&#160;</td><td class="fielddoc"><p>App reject preload file this time. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafae4452b9e410d76236258ec57e0af62a964b02639511ff532c982cc98444d648"></a>OPEN_FILE_BOOST_APP_STATE_FOREVER_REJECT_PRELOAD&#160;</td><td class="fielddoc"><p>App reject preload file forever during this registration. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00077">77</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<a id="ga773c6beb8645cfe54e1ce7eab67b8161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga773c6beb8645cfe54e1ce7eab67b8161">&#9670;&nbsp;</a></span>OpenFileBoost_CbErrCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___preview.html#ga773c6beb8645cfe54e1ce7eab67b8161">OpenFileBoost_CbErrCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates the error codes of the callback function <a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a>. It is used by the app to return the callback function execution result to the system. </p>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga773c6beb8645cfe54e1ce7eab67b8161a24959359af6a1f60d9c941371a0d041a"></a>OPEN_FILE_BOOST_CALLBACK_SUCCESS&#160;</td><td class="fielddoc"><p>It's returned when the system invokes the callback function of the app successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga773c6beb8645cfe54e1ce7eab67b8161a0c3ca9038cfaf1da542483e276203abd"></a>OPEN_FILE_BOOST_CALLBACK_FAILURE&#160;</td><td class="fielddoc"><p>It's returned when the system invokes the callback function of the app failure. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00066">66</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<a id="ga5716dcdf88f1609b3466aadc675a0efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5716dcdf88f1609b3466aadc675a0efc">&#9670;&nbsp;</a></span>OpenFileBoost_ErrCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates the error code for file open acceleration. </p>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585"></a>OPEN_FILE_BOOST_SUCCESS&#160;</td><td class="fielddoc"><p>The call was successful. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca0f98a8619b207da2df52b68114279791"></a>OPEN_FILE_BOOST_PERMISSION_NOT_GRANTED&#160;</td><td class="fielddoc"><p>Permissions not granted. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca53831f008476da6270ac76948c2fcb39"></a>OPEN_FILE_BOOST_INVALID_PARAM&#160;</td><td class="fielddoc"><p>Invalid input parameter. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca352cfd374e4bc89300a3d80f326e75fe"></a>OPEN_FILE_BOOST_INTERNAL_ERROR&#160;</td><td class="fielddoc"><p>Internal error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca181f88e15bb396fc9651da624e6bb1fd"></a>OPEN_FILE_BOOST_INSUFFICIENT_BUFFER&#160;</td><td class="fielddoc"><p>The length of the input buffer is insufficient. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca1f0c5c3099f3dfb10205800c8b8aef98"></a>OPEN_FILE_BOOST_SERVICE_UNAVAILABLE&#160;</td><td class="fielddoc"><p>Service unavailable. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5716dcdf88f1609b3466aadc675a0efca6f8a2fec69b35802955314dd4855e847"></a>OPEN_FILE_BOOST_NO_MEMORY&#160;</td><td class="fielddoc"><p>Memory is not enough. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="open__file__boost_8h_source.html#l00044">44</a> of file <a class="el" href="open__file__boost_8h_source.html">open_file_boost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga13429f2e33ddd0805274b46223a3f5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13429f2e33ddd0805274b46223a3f5b3">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_GetFdFromPreloadFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> HMS_OpenFileBoost_GetFdFromPreloadFileInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *&#160;</td>
          <td class="paramname"><em>fileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the file descriptor information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileInfo</td><td>Information about the preloaded file recommended by the system to the app. </td></tr>
    <tr><td class="paramname">fd</td><td>File descriptor information of the preloaded file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> if the function is executed successfully; returns a specific error code if the function fails to be executed. For details, see <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

</div>
</div>
<a id="ga16b482acdc9b56ebd8d01efed6875e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16b482acdc9b56ebd8d01efed6875e95">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_GetSandboxPathFromPreloadFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> HMS_OpenFileBoost_GetSandboxPathFromPreloadFileInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a> *&#160;</td>
          <td class="paramname"><em>fileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sandboxPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>pathLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the sandbox path information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileInfo</td><td>Information about the preloaded file recommended by the system to the app. </td></tr>
    <tr><td class="paramname">sandboxPath</td><td>Information about the sandbox path of the pre-loaded file. The app should pass a pointer to a valid memory region, into which the system fills the sandbox path information. </td></tr>
    <tr><td class="paramname">pathLen</td><td>Length of the memory area used to fill in the sandbox path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> if the function is executed successfully; returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca181f88e15bb396fc9651da624e6bb1fd">OPEN_FILE_BOOST_INSUFFICIENT_BUFFER</a> if the input memory buffer is too small. For details about other errors, see <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

</div>
</div>
<a id="ga613e9855b8e471157a522ba19bac4d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga613e9855b8e471157a522ba19bac4d5e">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_NotifyPreloadHit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> HMS_OpenFileBoost_NotifyPreloadHit </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sandboxPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>pathLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls this API to notify the system of the preloading hit when a user opens a preloaded file. This helps improve the prediction accuracy of the preloaded file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor information of the hit file. </td></tr>
    <tr><td class="paramname">sandboxPath</td><td>Sandbox path of the hit file. </td></tr>
    <tr><td class="paramname">pathLen</td><td>Length of the sandbox path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> if the function is executed successfully; returns a specific error code if the function fails to be executed. For details, see <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

</div>
</div>
<a id="ga0ff9ab52e40e265bc90a9cca779d0fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ff9ab52e40e265bc90a9cca779d0fd1">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_RegisterFilePreload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> HMS_OpenFileBoost_RegisterFilePreload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___preview.html#ga8de1d5d3db37e7701a91f24a56dee641">HMS_OpenFileBoost_QueryAppState</a>&#160;</td>
          <td class="paramname"><em>queryAppState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a>&#160;</td>
          <td class="paramname"><em>filePreload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___preview.html#ga7cb236400dadbd94b0586c7f234ad23b">HMS_OpenFileBoost_OnFilePreload</a>&#160;</td>
          <td class="paramname"><em>cancelFilePreload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the callbacks used for preloading. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queryAppState</td><td>Callback used for querying the app status. Before the preloading notification is sent, the callback function is invoked to query whether the preloading file can be recommended. </td></tr>
    <tr><td class="paramname">filePreload</td><td>Callback used for file preloading. The system predicts the files that may be opened by users and notifies the invoker through this callback function. </td></tr>
    <tr><td class="paramname">cancelFilePreload</td><td>Callback used for canceling file preloading. For example, when the available system memory is insufficient, the system notifies the invoker of canceling file preloading. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> if the function is executed successfully; returns a specific error code if the function fails to be executed. For details, see <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

</div>
</div>
<a id="gafdef9962cc4c394dad2103bd8c773e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdef9962cc4c394dad2103bd8c773e90">&#9670;&nbsp;</a></span>HMS_OpenFileBoost_UnregisterFilePreload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a> HMS_OpenFileBoost_UnregisterFilePreload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___x_engine.html#ga11182f9e4ee4060fd4cd43b57c242cae">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters the preloading callback. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group___preview.html#gga5716dcdf88f1609b3466aadc675a0efca98a8e2482e2b0a2e614c0ceb0c0a7585">OPEN_FILE_BOOST_SUCCESS</a> if the function is executed successfully; returns a specific error code if the function fails to be executed. For details, see <a class="el" href="group___preview.html#ga5716dcdf88f1609b3466aadc675a0efc">OpenFileBoost_ErrCode</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>5.0.3(15) </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
