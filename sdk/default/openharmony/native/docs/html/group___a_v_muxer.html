<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: AVMuxer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___a_v_muxer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AVMuxer</div>  </div>
</div><!--header-->
<div class="contents">

<p>The AVMuxer module provides functions for audio and video muxer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:native__avmuxer_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__avmuxer_8h.html">native_avmuxer.h</a></td></tr>
<tr class="memdesc:native__avmuxer_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the Native API used for audio and video muxer. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga15b02d3dc4aa6bb8f53d603aea7c106b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a></td></tr>
<tr class="memdesc:ga15b02d3dc4aa6bb8f53d603aea7c106b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declaration of OH_AVMuxer.  <a href="#ga15b02d3dc4aa6bb8f53d603aea7c106b">More...</a><br /></td></tr>
<tr class="separator:ga15b02d3dc4aa6bb8f53d603aea7c106b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga51760f98182d87ddbedae55ee3711a77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga51760f98182d87ddbedae55ee3711a77">OH_AVMuxer_Create</a> (int32_t fd, <a class="el" href="group___codec_base.html#ga788397d5442f3ab7970a994178622281">OH_AVOutputFormat</a> format)</td></tr>
<tr class="memdesc:ga51760f98182d87ddbedae55ee3711a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an OH_AVMuxer instance by output file description and format.  SystemCapability.Multimedia.Media.Muxer.  <a href="#ga51760f98182d87ddbedae55ee3711a77">More...</a><br /></td></tr>
<tr class="separator:ga51760f98182d87ddbedae55ee3711a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5bbb7cc1e6b37ea014ce552ddb91e60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#gae5bbb7cc1e6b37ea014ce552ddb91e60">OH_AVMuxer_SetRotation</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer, int32_t rotation)</td></tr>
<tr class="memdesc:gae5bbb7cc1e6b37ea014ce552ddb91e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the rotation for output video playback. Note: This interface can only be called before OH_AVMuxer_Start.  SystemCapability.Multimedia.Media.Muxer.  <a href="#gae5bbb7cc1e6b37ea014ce552ddb91e60">More...</a><br /></td></tr>
<tr class="separator:gae5bbb7cc1e6b37ea014ce552ddb91e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga622736c7030973ca7e3b5c3446d9ad31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga622736c7030973ca7e3b5c3446d9ad31">OH_AVMuxer_SetFormat</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer, <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format)</td></tr>
<tr class="memdesc:ga622736c7030973ca7e3b5c3446d9ad31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set format to the muxer.  <a href="#ga622736c7030973ca7e3b5c3446d9ad31">More...</a><br /></td></tr>
<tr class="separator:ga622736c7030973ca7e3b5c3446d9ad31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f8c9a37d2276fc051347c9b08d968db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga8f8c9a37d2276fc051347c9b08d968db">OH_AVMuxer_AddTrack</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer, int32_t *trackIndex, <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *trackFormat)</td></tr>
<tr class="memdesc:ga8f8c9a37d2276fc051347c9b08d968db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add track format to the muxer. Note: This interface can only be called before OH_AVMuxer_Start.  SystemCapability.Multimedia.Media.Muxer.  <a href="#ga8f8c9a37d2276fc051347c9b08d968db">More...</a><br /></td></tr>
<tr class="separator:ga8f8c9a37d2276fc051347c9b08d968db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10774ba43b29e7225fc7cd93ade648f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga10774ba43b29e7225fc7cd93ade648f4">OH_AVMuxer_Start</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer)</td></tr>
<tr class="memdesc:ga10774ba43b29e7225fc7cd93ade648f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the muxer. Note: This interface is called after OH_AVMuxer_AddTrack and before OH_AVMuxer_WriteSample.  SystemCapability.Multimedia.Media.Muxer.  <a href="#ga10774ba43b29e7225fc7cd93ade648f4">More...</a><br /></td></tr>
<tr class="separator:ga10774ba43b29e7225fc7cd93ade648f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2d7e10e417ec87e26592c7199e1897c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#gab2d7e10e417ec87e26592c7199e1897c">OH_AVMuxer_WriteSample</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer, uint32_t trackIndex, <a class="el" href="group___core.html#gabc52a00010476ad7d163926b3119ea0d">OH_AVMemory</a> *sample, <a class="el" href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a> info)</td></tr>
<tr class="memdesc:gab2d7e10e417ec87e26592c7199e1897c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an encoded sample to the muxer. Note: This interface can only be called after OH_AVMuxer_Start and before OH_AVMuxer_Stop. The application needs to make sure that the samples are written to the right tacks. Also, it needs to make sure the samples for each track are written in chronological order.  SystemCapability.Multimedia.Media.Muxer.  <a href="#gab2d7e10e417ec87e26592c7199e1897c">More...</a><br /></td></tr>
<tr class="separator:gab2d7e10e417ec87e26592c7199e1897c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4b8231e3125f38405450522dcc90b2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#gab4b8231e3125f38405450522dcc90b2a">OH_AVMuxer_WriteSampleBuffer</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer, uint32_t trackIndex, const <a class="el" href="group___core.html#ga83a9a6c4585045471fcf72f75a835ce2">OH_AVBuffer</a> *sample)</td></tr>
<tr class="memdesc:gab4b8231e3125f38405450522dcc90b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an encoded sample to the muxer. Note: This interface can only be called after OH_AVMuxer_Start and before OH_AVMuxer_Stop. The application needs to make sure that the samples are written to the right tracks. Also, it needs to make sure the samples for each track are written in chronological order.  SystemCapability.Multimedia.Media.Muxer.  <a href="#gab4b8231e3125f38405450522dcc90b2a">More...</a><br /></td></tr>
<tr class="separator:gab4b8231e3125f38405450522dcc90b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae0d7b18ec2c0878ef810e136925c5f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#gaae0d7b18ec2c0878ef810e136925c5f8">OH_AVMuxer_Stop</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer)</td></tr>
<tr class="memdesc:gaae0d7b18ec2c0878ef810e136925c5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the muxer. Note: Once the muxer stops, it can not be restarted.  SystemCapability.Multimedia.Media.Muxer.  <a href="#gaae0d7b18ec2c0878ef810e136925c5f8">More...</a><br /></td></tr>
<tr class="separator:gaae0d7b18ec2c0878ef810e136925c5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c2ca2723a3f224e674e53aabf1b9d5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_v_muxer.html#ga6c2ca2723a3f224e674e53aabf1b9d5f">OH_AVMuxer_Destroy</a> (<a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *muxer)</td></tr>
<tr class="memdesc:ga6c2ca2723a3f224e674e53aabf1b9d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the internal resources of the muxer and destroy the muxer instance  SystemCapability.Multimedia.Media.Muxer.  <a href="#ga6c2ca2723a3f224e674e53aabf1b9d5f">More...</a><br /></td></tr>
<tr class="separator:ga6c2ca2723a3f224e674e53aabf1b9d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The AVMuxer module provides functions for audio and video muxer. </p>
<p>SystemCapability.Multimedia.Media.Muxer </p><dl class="section since"><dt>Since</dt><dd>10 </dd></dl>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga15b02d3dc4aa6bb8f53d603aea7c106b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15b02d3dc4aa6bb8f53d603aea7c106b">&#9670;&nbsp;</a></span>OH_AVMuxer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> <a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward declaration of OH_AVMuxer. </p>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

<p class="definition">Definition at line <a class="el" href="native__avmuxer_8h_source.html#l00053">53</a> of file <a class="el" href="native__avmuxer_8h_source.html">native_avmuxer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8f8c9a37d2276fc051347c9b08d968db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f8c9a37d2276fc051347c9b08d968db">&#9670;&nbsp;</a></span>OH_AVMuxer_AddTrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_AddTrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>trackIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td>
          <td class="paramname"><em>trackFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add track format to the muxer. Note: This interface can only be called before OH_AVMuxer_Start.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
    <tr><td class="paramname">trackIndex</td><td>The int32_t handle pointer used to get the track index for this newly added track, and it should be used in the OH_AVMuxer_WriteSample. The track index is greater than or equal to 0, others is error index. </td></tr>
    <tr><td class="paramname">trackFormat</td><td>OH_AVFormat handle pointer contain track format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer or trackIndex or trackFormat invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a393021797634f5e26b1fcd16f701330d">AV_ERR_UNSUPPORT</a>, the mime type is not supported. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1ad4ba07b3fe5ca3df1f48345f7f9f631f">AV_ERR_NO_MEMORY</a>, failed to malloc memory. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, unknown error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="ga51760f98182d87ddbedae55ee3711a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51760f98182d87ddbedae55ee3711a77">&#9670;&nbsp;</a></span>OH_AVMuxer_Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a>* OH_AVMuxer_Create </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#ga788397d5442f3ab7970a994178622281">OH_AVOutputFormat</a>&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an OH_AVMuxer instance by output file description and format.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>Must be opened with read and write permission. Caller is responsible for closing fd. </td></tr>
    <tr><td class="paramname">format</td><td>The output format is <a class="el" href="group___codec_base.html#gad96fc77dbcab4de5d2cd90f07183b839">OH_AVOutputFormat</a> . </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to an OH_AVMuxer instance, needs to be freed by OH_AVMuxer_Destroy. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="ga6c2ca2723a3f224e674e53aabf1b9d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c2ca2723a3f224e674e53aabf1b9d5f">&#9670;&nbsp;</a></span>OH_AVMuxer_Destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the internal resources of the muxer and destroy the muxer instance  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer invalid. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="ga622736c7030973ca7e3b5c3446d9ad31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga622736c7030973ca7e3b5c3446d9ad31">&#9670;&nbsp;</a></span>OH_AVMuxer_SetFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_SetFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set format to the muxer. </p>
<p>SystemCapability.Multimedia.Media.Muxer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
    <tr><td class="paramname">format</td><td>OH_AVFormat handle pointer contain format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer or format is invalid <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state </dd></dl>
<dl class="section since"><dt>Since</dt><dd>14 </dd></dl>

</div>
</div>
<a id="gae5bbb7cc1e6b37ea014ce552ddb91e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5bbb7cc1e6b37ea014ce552ddb91e60">&#9670;&nbsp;</a></span>OH_AVMuxer_SetRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_SetRotation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>rotation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the rotation for output video playback. Note: This interface can only be called before OH_AVMuxer_Start.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance. </td></tr>
    <tr><td class="paramname">rotation</td><td>The supported angles are 0, 90, 180, and 270 degrees. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer or rotation invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="ga10774ba43b29e7225fc7cd93ade648f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10774ba43b29e7225fc7cd93ade648f4">&#9670;&nbsp;</a></span>OH_AVMuxer_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the muxer. Note: This interface is called after OH_AVMuxer_AddTrack and before OH_AVMuxer_WriteSample.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, unknown error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="gaae0d7b18ec2c0878ef810e136925c5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae0d7b18ec2c0878ef810e136925c5f8">&#9670;&nbsp;</a></span>OH_AVMuxer_Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_Stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the muxer. Note: Once the muxer stops, it can not be restarted.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="gab2d7e10e417ec87e26592c7199e1897c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2d7e10e417ec87e26592c7199e1897c">&#9670;&nbsp;</a></span>OH_AVMuxer_WriteSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_WriteSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>trackIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___core.html#gabc52a00010476ad7d163926b3119ea0d">OH_AVMemory</a> *&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a>&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an encoded sample to the muxer. Note: This interface can only be called after OH_AVMuxer_Start and before OH_AVMuxer_Stop. The application needs to make sure that the samples are written to the right tacks. Also, it needs to make sure the samples for each track are written in chronological order.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
    <tr><td class="paramname">trackIndex</td><td>The track index for this sample </td></tr>
    <tr><td class="paramname">sample</td><td>The encoded or demuxer sample </td></tr>
    <tr><td class="paramname">info</td><td>The buffer information related to this sample <a class="el" href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer or trackIndex or sample or info invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1ad4ba07b3fe5ca3df1f48345f7f9f631f">AV_ERR_NO_MEMORY</a>, failed to request memory. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, unknown error. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000079">Deprecated:</a></b></dt><dd>since 11  OH_AVMuxer_WriteSampleBuffer </dd></dl>
<dl class="section since"><dt>Since</dt><dd>10 </dd></dl>

</div>
</div>
<a id="gab4b8231e3125f38405450522dcc90b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4b8231e3125f38405450522dcc90b2a">&#9670;&nbsp;</a></span>OH_AVMuxer_WriteSampleBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AVMuxer_WriteSampleBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_v_muxer.html#ga15b02d3dc4aa6bb8f53d603aea7c106b">OH_AVMuxer</a> *&#160;</td>
          <td class="paramname"><em>muxer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>trackIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___core.html#ga83a9a6c4585045471fcf72f75a835ce2">OH_AVBuffer</a> *&#160;</td>
          <td class="paramname"><em>sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an encoded sample to the muxer. Note: This interface can only be called after OH_AVMuxer_Start and before OH_AVMuxer_Stop. The application needs to make sure that the samples are written to the right tracks. Also, it needs to make sure the samples for each track are written in chronological order.  SystemCapability.Multimedia.Media.Muxer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer</td><td>Pointer to an OH_AVMuxer instance </td></tr>
    <tr><td class="paramname">trackIndex</td><td>The track index for this sample </td></tr>
    <tr><td class="paramname">sample</td><td>The encoded or demuxer sample, which including data and buffer information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the muxer or trackIndex or sample invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, not permit to call the interface, it was called in invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1ad4ba07b3fe5ca3df1f48345f7f9f631f">AV_ERR_NO_MEMORY</a>, failed to request memory. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, unknown error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
