<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: FileUri</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__file_uri.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FileUri</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module provides URI format validation and URI conversion processing, as well as obtaining URI-related information.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:oh__file__uri_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oh__file__uri_8h.html">oh_file_uri.h</a></td></tr>
<tr class="memdesc:oh__file__uri_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">uri verification and conversion This class is mainly for URI format verification and URI conversion processing; The conversion and operation of the media library type URI is not supported, and the class only converts according to the existing specifications, and there is no guarantee that the conversion result will actually exist.  libohfileuri.so  SystemCapability.FileManagement.AppFileService <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga39ac5fb1049209f997774fde74e419ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file_uri.html#ga39ac5fb1049209f997774fde74e419ba">OH_FileUri_GetUriFromPath</a> (const char *path, unsigned int length, char **result)</td></tr>
<tr class="memdesc:ga39ac5fb1049209f997774fde74e419ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get uri From path.  <a href="#ga39ac5fb1049209f997774fde74e419ba">More...</a><br /></td></tr>
<tr class="separator:ga39ac5fb1049209f997774fde74e419ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae10230c9c584478a4aa3827f13e7f0c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file_uri.html#gae10230c9c584478a4aa3827f13e7f0c4">OH_FileUri_GetPathFromUri</a> (const char *uri, unsigned int length, char **result)</td></tr>
<tr class="memdesc:gae10230c9c584478a4aa3827f13e7f0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get path From uri.  <a href="#gae10230c9c584478a4aa3827f13e7f0c4">More...</a><br /></td></tr>
<tr class="separator:gae10230c9c584478a4aa3827f13e7f0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad19755967fef13e7adddbe99cfb40539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file_uri.html#gad19755967fef13e7adddbe99cfb40539">OH_FileUri_GetFullDirectoryUri</a> (const char *uri, unsigned int length, char **result)</td></tr>
<tr class="memdesc:gad19755967fef13e7adddbe99cfb40539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the uri of the path or directory where the uri is located.  <a href="#gad19755967fef13e7adddbe99cfb40539">More...</a><br /></td></tr>
<tr class="separator:gad19755967fef13e7adddbe99cfb40539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36f8c667b9f46e7eadc54a97b4fc5c42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file_uri.html#ga36f8c667b9f46e7eadc54a97b4fc5c42">OH_FileUri_IsValidUri</a> (const char *uri, unsigned int length)</td></tr>
<tr class="memdesc:ga36f8c667b9f46e7eadc54a97b4fc5c42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the incoming uri is valid.  <a href="#ga36f8c667b9f46e7eadc54a97b4fc5c42">More...</a><br /></td></tr>
<tr class="separator:ga36f8c667b9f46e7eadc54a97b4fc5c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72b4e8f9888b2346d31a77124cda89f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file_uri.html#ga72b4e8f9888b2346d31a77124cda89f1">OH_FileUri_GetFileName</a> (const char *uri, unsigned int length, char **result)</td></tr>
<tr class="memdesc:ga72b4e8f9888b2346d31a77124cda89f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the fileName From uri. This function obtains that the last segment of the URI string is the return value of the function, and the URI of the media type is not supported.  <a href="#ga72b4e8f9888b2346d31a77124cda89f1">More...</a><br /></td></tr>
<tr class="separator:ga72b4e8f9888b2346d31a77124cda89f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module provides URI format validation and URI conversion processing, as well as obtaining URI-related information. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga72b4e8f9888b2346d31a77124cda89f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72b4e8f9888b2346d31a77124cda89f1">&#9670;&nbsp;</a></span>OH_FileUri_GetFileName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a> OH_FileUri_GetFileName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the fileName From uri. This function obtains that the last segment of the URI string is the return value of the function, and the URI of the media type is not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>Input a pointer to the uri string. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the input uri. </td></tr>
    <tr><td class="paramname">result</td><td>Output a pointer to a FileName string. Please use free() to clear the resource. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status code of the execution. <a class="el" href="">ERR_PARAMS</a> 401 - Invalid input parameter. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcae812324e4b17802cb00b1b84fdc50f3a">ERR_ENOMEM</a> 13900011 - Failed to apply for memory or failed to copy memory. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcaa26c163b80b1f6786ca81dadc14b00fb">ERR_OK</a> 0 - This operation was successfully executed.  SystemCapability.FileManagement.AppFileService </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13 </dd></dl>

</div>
</div>
<a id="gad19755967fef13e7adddbe99cfb40539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad19755967fef13e7adddbe99cfb40539">&#9670;&nbsp;</a></span>OH_FileUri_GetFullDirectoryUri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a> OH_FileUri_GetFullDirectoryUri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the uri of the path or directory where the uri is located. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>Input a pointer to the uri string. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the input uri. </td></tr>
    <tr><td class="paramname">result</td><td>Output a pointer to a uri string. Please use free() to clear the resource. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status code of the execution. <a class="el" href="">ERR_PARAMS</a> 401 - Invalid input parameter. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcae812324e4b17802cb00b1b84fdc50f3a">ERR_ENOMEM</a> 13900011 - Failed to apply for memory or failed to copy memory. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcaebdc5294aad403bb02eaa7e5a5e3b0bc">ERR_ENOENT</a> 13900002 - No such file or directory. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dca5c708decdcbd7d8c9fddd8d9e75828a1">ERR_UNKNOWN</a> - Unknow error. The length of the output path string is 0. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcaa26c163b80b1f6786ca81dadc14b00fb">ERR_OK</a> 0 - This operation was successfully executed.  SystemCapability.FileManagement.AppFileService </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

</div>
</div>
<a id="gae10230c9c584478a4aa3827f13e7f0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae10230c9c584478a4aa3827f13e7f0c4">&#9670;&nbsp;</a></span>OH_FileUri_GetPathFromUri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a> OH_FileUri_GetPathFromUri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get path From uri. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>Input a pointer to the uri string. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the input uri. </td></tr>
    <tr><td class="paramname">result</td><td>Output a pointer to a path string. Please use free() to clear the resource. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status code of the execution. <a class="el" href="">ERR_PARAMS</a> 401 - Invalid input parameter. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dca5c708decdcbd7d8c9fddd8d9e75828a1">ERR_UNKNOWN</a> 13900042 - Unknow error. The length of the output path string is 0. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcae812324e4b17802cb00b1b84fdc50f3a">ERR_ENOMEM</a> 13900011 - Failed to apply for memory or failed to copy memory. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcaa26c163b80b1f6786ca81dadc14b00fb">ERR_OK</a> 0 - This operation was successfully executed.  SystemCapability.FileManagement.AppFileService </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

</div>
</div>
<a id="ga39ac5fb1049209f997774fde74e419ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39ac5fb1049209f997774fde74e419ba">&#9670;&nbsp;</a></span>OH_FileUri_GetUriFromPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___file_i_o.html#ga5905d15ada9771421c2be2891e9df3dc">FileManagement_ErrCode</a> OH_FileUri_GetUriFromPath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get uri From path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Input a pointer to the path string. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the input path. </td></tr>
    <tr><td class="paramname">result</td><td>Output a pointer to a uri string. Please use free() to clear the resource. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status code of the execution. <a class="el" href="">ERR_PARAMS</a> 401 - Invalid input parameter. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dca5c708decdcbd7d8c9fddd8d9e75828a1">ERR_UNKNOWN</a> 13900042 - Unknow error. The length of the output uri string is 0. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcae812324e4b17802cb00b1b84fdc50f3a">ERR_ENOMEM</a> 13900011 - Failed to apply for memory or failed to copy memory. <a class="el" href="group___file_i_o.html#gga5905d15ada9771421c2be2891e9df3dcaa26c163b80b1f6786ca81dadc14b00fb">ERR_OK</a> 0 - This operation was successfully executed.  SystemCapability.FileManagement.AppFileService </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

</div>
</div>
<a id="ga36f8c667b9f46e7eadc54a97b4fc5c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36f8c667b9f46e7eadc54a97b4fc5c42">&#9670;&nbsp;</a></span>OH_FileUri_IsValidUri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OH_FileUri_IsValidUri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the incoming uri is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>Input a pointer to the uri string. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the input uri. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true: Valid incoming uri, false: Invalid incoming uri.  SystemCapability.FileManagement.AppFileService </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
