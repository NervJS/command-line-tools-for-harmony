<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: AudioCodec</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___audio_codec.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AudioCodec</div>  </div>
</div><!--header-->
<div class="contents">

<p>The AudioCodec module provides functions for audio encoding and decoding.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:native__avcodec__audiocodec_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__avcodec__audiocodec_8h.html">native_avcodec_audiocodec.h</a></td></tr>
<tr class="memdesc:native__avcodec__audiocodec_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the Native API used for audio encoding and decoding. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga27e886232b01b57b4c772e3572a73b02"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group___drm.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a></td></tr>
<tr class="memdesc:ga27e886232b01b57b4c772e3572a73b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">MediaKeySession field.  <a href="#ga27e886232b01b57b4c772e3572a73b02">More...</a><br /></td></tr>
<tr class="separator:ga27e886232b01b57b4c772e3572a73b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga538257c65fef71bcf676e0a45944fe46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga538257c65fef71bcf676e0a45944fe46">OH_AudioCodec_CreateByMime</a> (const char *mime, bool isEncoder)</td></tr>
<tr class="memdesc:ga538257c65fef71bcf676e0a45944fe46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an audio encoder or decoder instance from the mime type, which is recommended in most cases.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga538257c65fef71bcf676e0a45944fe46">More...</a><br /></td></tr>
<tr class="separator:ga538257c65fef71bcf676e0a45944fe46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4513d12b4c5acf4038249236a3e3f6ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga4513d12b4c5acf4038249236a3e3f6ef">OH_AudioCodec_CreateByName</a> (const char *name)</td></tr>
<tr class="memdesc:ga4513d12b4c5acf4038249236a3e3f6ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an audio codec instance through the audio codec name. The premise of using this interface is to know the exact name of the codec.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga4513d12b4c5acf4038249236a3e3f6ef">More...</a><br /></td></tr>
<tr class="separator:ga4513d12b4c5acf4038249236a3e3f6ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab914274e0f2cad70485abaa8c9e62876"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#gab914274e0f2cad70485abaa8c9e62876">OH_AudioCodec_Destroy</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gab914274e0f2cad70485abaa8c9e62876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the internal resources of the codec and destroy the codec instance  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#gab914274e0f2cad70485abaa8c9e62876">More...</a><br /></td></tr>
<tr class="separator:gab914274e0f2cad70485abaa8c9e62876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga909b0d0acb0e670626949e74e752e0e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga909b0d0acb0e670626949e74e752e0e0">OH_AudioCodec_RegisterCallback</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="el" href="struct_o_h___a_v_codec_callback.html">OH_AVCodecCallback</a> callback, void *userData)</td></tr>
<tr class="memdesc:ga909b0d0acb0e670626949e74e752e0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the asynchronous callback function so that your application can respond to the events generated by the audio codec. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga909b0d0acb0e670626949e74e752e0e0">More...</a><br /></td></tr>
<tr class="separator:ga909b0d0acb0e670626949e74e752e0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77501ddb0c071fe0f4dee334836cfde9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga77501ddb0c071fe0f4dee334836cfde9">OH_AudioCodec_Configure</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, const <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format)</td></tr>
<tr class="memdesc:ga77501ddb0c071fe0f4dee334836cfde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">To configure the audio codec, typically, you need to configure the description information of the audio track. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga77501ddb0c071fe0f4dee334836cfde9">More...</a><br /></td></tr>
<tr class="separator:ga77501ddb0c071fe0f4dee334836cfde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2c24c5a8da1e8bd40a250325540472c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#gab2c24c5a8da1e8bd40a250325540472c">OH_AudioCodec_Prepare</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gab2c24c5a8da1e8bd40a250325540472c"><td class="mdescLeft">&#160;</td><td class="mdescRight">To prepare the internal resources of the codec, the Configure interface must be called before calling this interface.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#gab2c24c5a8da1e8bd40a250325540472c">More...</a><br /></td></tr>
<tr class="separator:gab2c24c5a8da1e8bd40a250325540472c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69253aa9b6b3e837a0a11ef7dcbadb69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga69253aa9b6b3e837a0a11ef7dcbadb69">OH_AudioCodec_Start</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga69253aa9b6b3e837a0a11ef7dcbadb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the codec, this interface must be called after the Prepare is successful. After being successfully started, the codec will start reporting NeedInputData events.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga69253aa9b6b3e837a0a11ef7dcbadb69">More...</a><br /></td></tr>
<tr class="separator:ga69253aa9b6b3e837a0a11ef7dcbadb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c4d9c64e30ab6bdee133a16551f4636"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga7c4d9c64e30ab6bdee133a16551f4636">OH_AudioCodec_Stop</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga7c4d9c64e30ab6bdee133a16551f4636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the codec. After stopping, you can re-enter the Started state through Start, but it should be noted that need to re-enter if the codec has been input before Codec-Specific-Data.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga7c4d9c64e30ab6bdee133a16551f4636">More...</a><br /></td></tr>
<tr class="separator:ga7c4d9c64e30ab6bdee133a16551f4636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa1d9051f49ec5d0182102486528003a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#gaaa1d9051f49ec5d0182102486528003a">OH_AudioCodec_Flush</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gaaa1d9051f49ec5d0182102486528003a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the input and output data buffered in the codec. After this interface is called, all the Buffer indexes previously reported through the asynchronous callback will be invalidated, make sure not to access the Buffers corresponding to these indexes.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#gaaa1d9051f49ec5d0182102486528003a">More...</a><br /></td></tr>
<tr class="separator:gaaa1d9051f49ec5d0182102486528003a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf11823f83eaee7b626a98c46bbc98f96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#gaf11823f83eaee7b626a98c46bbc98f96">OH_AudioCodec_Reset</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gaf11823f83eaee7b626a98c46bbc98f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the codec. To continue encoding or decoding, you need to call the Configure interface again to configure the codec instance.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#gaf11823f83eaee7b626a98c46bbc98f96">More...</a><br /></td></tr>
<tr class="separator:gaf11823f83eaee7b626a98c46bbc98f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac449be213d010e6dff87c476f7046ee5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#gac449be213d010e6dff87c476f7046ee5">OH_AudioCodec_GetOutputDescription</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gac449be213d010e6dff87c476f7046ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the description information of the output data of the codec, refer to <a class="el" href="group___video_processing.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> for details. It should be noted that the life cycle of the OH_AVFormat instance pointed to by the return value * needs to be manually released by calling <a class="el" href="group___core.html#gab5827d0ad0c0f1f29f009817c4f6dd65">OH_AVFormat_Destroy</a>.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#gac449be213d010e6dff87c476f7046ee5">More...</a><br /></td></tr>
<tr class="separator:gac449be213d010e6dff87c476f7046ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d163a2d5b71e214b461b5138e8803ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga5d163a2d5b71e214b461b5138e8803ca">OH_AudioCodec_SetParameter</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, const <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format)</td></tr>
<tr class="memdesc:ga5d163a2d5b71e214b461b5138e8803ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set dynamic parameters to the codec. Note: This interface can only be called after the codec is started. At the same time, incorrect parameter settings may cause encoding or decoding failure.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga5d163a2d5b71e214b461b5138e8803ca">More...</a><br /></td></tr>
<tr class="separator:ga5d163a2d5b71e214b461b5138e8803ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d92c390f6c260c83022e67feab3d1dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga4d92c390f6c260c83022e67feab3d1dd">OH_AudioCodec_PushInputBuffer</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index)</td></tr>
<tr class="memdesc:ga4d92c390f6c260c83022e67feab3d1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit the input buffer filled with data to the audio codec. The <a class="el" href="group___codec_base.html#gab18014c690c22fea26523074750b8f3f">OH_AVCodecOnNeedInputBuffer</a> callback will report the available input buffer and the corresponding index value. Once the buffer with the specified index is submitted to the audio codec, the buffer cannot be accessed again until the <a class="el" href="group___codec_base.html#gab18014c690c22fea26523074750b8f3f">OH_AVCodecOnNeedInputBuffer</a> callback is received again reporting that the buffer with the same index is available. In addition, for some codecs, it is required to input Codec-Specific-Data to the codec at the beginning to initialize the encoding or decoding process of the codec.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga4d92c390f6c260c83022e67feab3d1dd">More...</a><br /></td></tr>
<tr class="separator:ga4d92c390f6c260c83022e67feab3d1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga646c8834c8043798484866eb462fbc6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga646c8834c8043798484866eb462fbc6c">OH_AudioCodec_FreeOutputBuffer</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index)</td></tr>
<tr class="memdesc:ga646c8834c8043798484866eb462fbc6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the processed output Buffer to the codec.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga646c8834c8043798484866eb462fbc6c">More...</a><br /></td></tr>
<tr class="separator:ga646c8834c8043798484866eb462fbc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09506b57df854af5f6dc72f1881556a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga09506b57df854af5f6dc72f1881556a0">OH_AudioCodec_IsValid</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, bool *isValid)</td></tr>
<tr class="memdesc:ga09506b57df854af5f6dc72f1881556a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the current codec instance is valid. It can be used fault recovery or app switchback from the background  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga09506b57df854af5f6dc72f1881556a0">More...</a><br /></td></tr>
<tr class="separator:ga09506b57df854af5f6dc72f1881556a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72e2fd2c1275fcbf3882705e0a3829a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_codec.html#ga72e2fd2c1275fcbf3882705e0a3829a2">OH_AudioCodec_SetDecryptionConfig</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="el" href="group___drm.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a> *mediaKeySession, bool secureAudio)</td></tr>
<tr class="memdesc:ga72e2fd2c1275fcbf3882705e0a3829a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set decryption info.  SystemCapability.Multimedia.Media.AudioCodec.  <a href="#ga72e2fd2c1275fcbf3882705e0a3829a2">More...</a><br /></td></tr>
<tr class="separator:ga72e2fd2c1275fcbf3882705e0a3829a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The AudioCodec module provides functions for audio encoding and decoding. </p>
<p>SystemCapability.Multimedia.Media.AudioCodec </p><dl class="section since"><dt>Since</dt><dd>11 </dd></dl>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga27e886232b01b57b4c772e3572a73b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27e886232b01b57b4c772e3572a73b02">&#9670;&nbsp;</a></span>MediaKeySession</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group___drm.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a> <a class="el" href="group___drm.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MediaKeySession field. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="native__avcodec__audiocodec_8h_source.html#l00052">52</a> of file <a class="el" href="native__avcodec__audiocodec_8h_source.html">native_avcodec_audiocodec.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga77501ddb0c071fe0f4dee334836cfde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77501ddb0c071fe0f4dee334836cfde9">&#9670;&nbsp;</a></span>OH_AudioCodec_Configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To configure the audio codec, typically, you need to configure the description information of the audio track. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">format</td><td>A pointer to an OH_AVFormat giving a description of the audio track to be encoded or decoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga538257c65fef71bcf676e0a45944fe46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga538257c65fef71bcf676e0a45944fe46">&#9670;&nbsp;</a></span>OH_AudioCodec_CreateByMime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a>* OH_AudioCodec_CreateByMime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isEncoder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an audio encoder or decoder instance from the mime type, which is recommended in most cases.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mime</td><td>mime type description string, refer to <a class="el" href="">AVCODEC_MIME_TYPE</a> </td></tr>
    <tr><td class="paramname">isEncoder</td><td>true indicates the need to create an encoder, while false indicates the need to create a decoder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a Pointer to an OH_AVCodec instance </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga4513d12b4c5acf4038249236a3e3f6ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4513d12b4c5acf4038249236a3e3f6ef">&#9670;&nbsp;</a></span>OH_AudioCodec_CreateByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a>* OH_AudioCodec_CreateByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an audio codec instance through the audio codec name. The premise of using this interface is to know the exact name of the codec.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Audio codec name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a Pointer to an OH_AVCodec instance </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="gab914274e0f2cad70485abaa8c9e62876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab914274e0f2cad70485abaa8c9e62876">&#9670;&nbsp;</a></span>OH_AudioCodec_Destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the internal resources of the codec and destroy the codec instance  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1ad4ba07b3fe5ca3df1f48345f7f9f631f">AV_ERR_NO_MEMORY</a>, inner resource has already released. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="gaaa1d9051f49ec5d0182102486528003a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa1d9051f49ec5d0182102486528003a">&#9670;&nbsp;</a></span>OH_AudioCodec_Flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the input and output data buffered in the codec. After this interface is called, all the Buffer indexes previously reported through the asynchronous callback will be invalidated, make sure not to access the Buffers corresponding to these indexes.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga646c8834c8043798484866eb462fbc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga646c8834c8043798484866eb462fbc6c">&#9670;&nbsp;</a></span>OH_AudioCodec_FreeOutputBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_FreeOutputBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the processed output Buffer to the codec.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">index</td><td>The index value corresponding to the output Buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. Buffer index should be given by <a class="el" href="group___codec_base.html#gac8200cb94cc2b4e6536a8c3e33ace139">OH_AVCodecOnNewOutputBuffer</a>. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="gac449be213d010e6dff87c476f7046ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac449be213d010e6dff87c476f7046ee5">&#9670;&nbsp;</a></span>OH_AudioCodec_GetOutputDescription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a>* OH_AudioCodec_GetOutputDescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the description information of the output data of the codec, refer to <a class="el" href="group___video_processing.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> for details. It should be noted that the life cycle of the OH_AVFormat instance pointed to by the return value * needs to be manually released by calling <a class="el" href="group___core.html#gab5827d0ad0c0f1f29f009817c4f6dd65">OH_AVFormat_Destroy</a>.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the OH_AVFormat handle pointer, the life cycle is refreshed with the next GetOutputMediaDescription, or destroyed with OH_AVCodec; </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga09506b57df854af5f6dc72f1881556a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09506b57df854af5f6dc72f1881556a0">&#9670;&nbsp;</a></span>OH_AudioCodec_IsValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_IsValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>isValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the current codec instance is valid. It can be used fault recovery or app switchback from the background  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">isValid</td><td>Output Parameter. A pointer to a boolean instance, it is true if the codec instance is valid, false if the codec instance is invalid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="gab2c24c5a8da1e8bd40a250325540472c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2c24c5a8da1e8bd40a250325540472c">&#9670;&nbsp;</a></span>OH_AudioCodec_Prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To prepare the internal resources of the codec, the Configure interface must be called before calling this interface.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga4d92c390f6c260c83022e67feab3d1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d92c390f6c260c83022e67feab3d1dd">&#9670;&nbsp;</a></span>OH_AudioCodec_PushInputBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_PushInputBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit the input buffer filled with data to the audio codec. The <a class="el" href="group___codec_base.html#gab18014c690c22fea26523074750b8f3f">OH_AVCodecOnNeedInputBuffer</a> callback will report the available input buffer and the corresponding index value. Once the buffer with the specified index is submitted to the audio codec, the buffer cannot be accessed again until the <a class="el" href="group___codec_base.html#gab18014c690c22fea26523074750b8f3f">OH_AVCodecOnNeedInputBuffer</a> callback is received again reporting that the buffer with the same index is available. In addition, for some codecs, it is required to input Codec-Specific-Data to the codec at the beginning to initialize the encoding or decoding process of the codec.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">index</td><td>Enter the index value corresponding to the Buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. Buffer index should be given by <a class="el" href="group___codec_base.html#gab18014c690c22fea26523074750b8f3f">OH_AVCodecOnNeedInputBuffer</a>. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga909b0d0acb0e670626949e74e752e0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga909b0d0acb0e670626949e74e752e0e0">&#9670;&nbsp;</a></span>OH_AudioCodec_RegisterCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_RegisterCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_o_h___a_v_codec_callback.html">OH_AVCodecCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the asynchronous callback function so that your application can respond to the events generated by the audio codec. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">callback</td><td>A collection of all callback functions, see <a class="el" href="struct_o_h___a_v_codec_callback.html">OH_AVCodecCallback</a> </td></tr>
    <tr><td class="paramname">userData</td><td>User specific data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="gaf11823f83eaee7b626a98c46bbc98f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf11823f83eaee7b626a98c46bbc98f96">&#9670;&nbsp;</a></span>OH_AudioCodec_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the codec. To continue encoding or decoding, you need to call the Configure interface again to configure the codec instance.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga72e2fd2c1275fcbf3882705e0a3829a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72e2fd2c1275fcbf3882705e0a3829a2">&#9670;&nbsp;</a></span>OH_AudioCodec_SetDecryptionConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_SetDecryptionConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___drm.html#ga27e886232b01b57b4c772e3572a73b02">MediaKeySession</a> *&#160;</td>
          <td class="paramname"><em>mediaKeySession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>secureAudio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set decryption info.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">mediaKeySession</td><td>A media key session instance with decryption function. </td></tr>
    <tr><td class="paramname">secureAudio</td><td>Require secure decoder or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1aeaf39666b93f2c3263e52b6bad3da8d2">AV_ERR_OK</a> 0 - Success <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a> 3 - If the codec instance is nullptr or invalid, the mediaKeySession is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a> 8 - If the codec service is invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1ad4ba07b3fe5ca3df1f48345f7f9f631f">AV_ERR_NO_MEMORY</a>, failed to request memory. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a id="ga5d163a2d5b71e214b461b5138e8803ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d163a2d5b71e214b461b5138e8803ca">&#9670;&nbsp;</a></span>OH_AudioCodec_SetParameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_SetParameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set dynamic parameters to the codec. Note: This interface can only be called after the codec is started. At the same time, incorrect parameter settings may cause encoding or decoding failure.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
    <tr><td class="paramname">format</td><td>OH_AVFormat handle pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, input parameter is empty or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga69253aa9b6b3e837a0a11ef7dcbadb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69253aa9b6b3e837a0a11ef7dcbadb69">&#9670;&nbsp;</a></span>OH_AudioCodec_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the codec, this interface must be called after the Prepare is successful. After being successfully started, the codec will start reporting NeedInputData events.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
<a id="ga7c4d9c64e30ab6bdee133a16551f4636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c4d9c64e30ab6bdee133a16551f4636">&#9670;&nbsp;</a></span>OH_AudioCodec_Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> OH_AudioCodec_Stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the codec. After stopping, you can re-enter the Started state through Start, but it should be noted that need to re-enter if the codec has been input before Codec-Specific-Data.  SystemCapability.Multimedia.Media.AudioCodec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codec</td><td>Pointer to an OH_AVCodec instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AV_ERR_OK if the execution is successful, otherwise returns a specific error code, refer to <a class="el" href="group___core.html#ga0906d8807135e921ebd36db31e204ae8">OH_AVErrCode</a> <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a96d898ca31466839ae39aede4e5266c2">AV_ERR_INVALID_VAL</a>, the codec is nullptr or invalid. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a369dde180c1423e3d7a4844dcbf94938">AV_ERR_INVALID_STATE</a>, the interface was called in an invalid state. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a2db9dd1e243f7738320dfa732f041669">AV_ERR_OPERATE_NOT_PERMIT</a>, operation not permitted. This could be due to an incorrect state or an unsupported operation. <a class="el" href="group___core.html#gga19325a2ffdf3a9a214794be3960bb3b1a7a9dc8845fe08a6f04adcf0997bddd85">AV_ERR_UNKNOWN</a>, internal error occurred, it is recommended to check the logs. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
