<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: multimedia/player_framework/native_avcodec_audiodecoder.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('native__avcodec__audiodecoder_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">native_avcodec_audiodecoder.h File Reference<div class="ingroups"><a class="el" href="group___audio_decoder.html">AudioDecoder</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Declare the Native API used for audio decoding.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="native__avcodec__base_8h_source.html">native_avcodec_base.h</a>&quot;</code><br />
</div>
<p><a href="native__avcodec__audiodecoder_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac8f336b589f2e73f7e605d0ae9bc7579"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gac8f336b589f2e73f7e605d0ae9bc7579">OH_AudioDecoder_CreateByMime</a> (const char *mime)</td></tr>
<tr class="memdesc:gac8f336b589f2e73f7e605d0ae9bc7579"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an audio decoder instance from the mime type, which is recommended in most cases.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gac8f336b589f2e73f7e605d0ae9bc7579">More...</a><br /></td></tr>
<tr class="separator:gac8f336b589f2e73f7e605d0ae9bc7579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab978e7bac0c83b2160cd4e568e0768c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gab978e7bac0c83b2160cd4e568e0768c3">OH_AudioDecoder_CreateByName</a> (const char *name)</td></tr>
<tr class="memdesc:gab978e7bac0c83b2160cd4e568e0768c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an audio decoder instance through the audio decoder name. The premise of using this interface is to know the exact name of the decoder.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gab978e7bac0c83b2160cd4e568e0768c3">More...</a><br /></td></tr>
<tr class="separator:gab978e7bac0c83b2160cd4e568e0768c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b75efa1ce33ca1dd1a9ecdbae692260"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga3b75efa1ce33ca1dd1a9ecdbae692260">OH_AudioDecoder_Destroy</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga3b75efa1ce33ca1dd1a9ecdbae692260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the internal resources of the decoder and destroy the decoder instance  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga3b75efa1ce33ca1dd1a9ecdbae692260">More...</a><br /></td></tr>
<tr class="separator:ga3b75efa1ce33ca1dd1a9ecdbae692260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f342aadbf40314581b85462fef98c00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga9f342aadbf40314581b85462fef98c00">OH_AudioDecoder_SetCallback</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="el" href="struct_o_h___a_v_codec_async_callback.html">OH_AVCodecAsyncCallback</a> callback, void *userData)</td></tr>
<tr class="memdesc:ga9f342aadbf40314581b85462fef98c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the asynchronous callback function so that your application can respond to the events generated by the audio decoder. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga9f342aadbf40314581b85462fef98c00">More...</a><br /></td></tr>
<tr class="separator:ga9f342aadbf40314581b85462fef98c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4e2b4d1fd1ffa9e284c66790453c4b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gac4e2b4d1fd1ffa9e284c66790453c4b4">OH_AudioDecoder_Configure</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format)</td></tr>
<tr class="memdesc:gac4e2b4d1fd1ffa9e284c66790453c4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">To configure the audio decoder, typically, you need to configure the description information of the decoded audio track, which can be extracted from the OH_AVSource. This interface must be called before Prepare is called.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gac4e2b4d1fd1ffa9e284c66790453c4b4">More...</a><br /></td></tr>
<tr class="separator:gac4e2b4d1fd1ffa9e284c66790453c4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga836deead602077bf05c1ebe4e03d01cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga836deead602077bf05c1ebe4e03d01cb">OH_AudioDecoder_Prepare</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga836deead602077bf05c1ebe4e03d01cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">To prepare the internal resources of the decoder, the Configure interface must be called before calling this interface.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga836deead602077bf05c1ebe4e03d01cb">More...</a><br /></td></tr>
<tr class="separator:ga836deead602077bf05c1ebe4e03d01cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e60688daab78d86970d4a7459e1e10a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga6e60688daab78d86970d4a7459e1e10a">OH_AudioDecoder_Start</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga6e60688daab78d86970d4a7459e1e10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the decoder, this interface must be called after the Prepare is successful. After being successfully started, the decoder will start reporting NeedInputData events.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga6e60688daab78d86970d4a7459e1e10a">More...</a><br /></td></tr>
<tr class="separator:ga6e60688daab78d86970d4a7459e1e10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga000d948ba0a4bb7ae9326ac76a99c32a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga000d948ba0a4bb7ae9326ac76a99c32a">OH_AudioDecoder_Stop</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga000d948ba0a4bb7ae9326ac76a99c32a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the decoder. After stopping, you can re-enter the Started state through Start, but it should be noted that need to re-enter if the decoder has been input before Codec-Specific-Data.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga000d948ba0a4bb7ae9326ac76a99c32a">More...</a><br /></td></tr>
<tr class="separator:ga000d948ba0a4bb7ae9326ac76a99c32a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab30e2ad84cdca2b3401500d8a99c25d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gab30e2ad84cdca2b3401500d8a99c25d2">OH_AudioDecoder_Flush</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gab30e2ad84cdca2b3401500d8a99c25d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the input and output data buffered in the decoder. After this interface is called, all the Buffer indexes previously reported through the asynchronous callback will be invalidated, make sure not to access the Buffers corresponding to these indexes.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gab30e2ad84cdca2b3401500d8a99c25d2">More...</a><br /></td></tr>
<tr class="separator:gab30e2ad84cdca2b3401500d8a99c25d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeffc5a7f118eac9c055d02f4421c06b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gaeffc5a7f118eac9c055d02f4421c06b5">OH_AudioDecoder_Reset</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:gaeffc5a7f118eac9c055d02f4421c06b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the decoder. To continue decoding, you need to call the Configure interface again to configure the decoder instance.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gaeffc5a7f118eac9c055d02f4421c06b5">More...</a><br /></td></tr>
<tr class="separator:gaeffc5a7f118eac9c055d02f4421c06b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92e68f7bc425409866a7eca41d8bf965"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga92e68f7bc425409866a7eca41d8bf965">OH_AudioDecoder_GetOutputDescription</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec)</td></tr>
<tr class="memdesc:ga92e68f7bc425409866a7eca41d8bf965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the description information of the output data of the decoder, refer to <a class="el" href="group___video_processing.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> for details. It should be noted that the life cycle of the OH_AVFormat instance pointed to by the return value * needs to be manually released by the caller  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga92e68f7bc425409866a7eca41d8bf965">More...</a><br /></td></tr>
<tr class="separator:ga92e68f7bc425409866a7eca41d8bf965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01c0451a2ca3dcdd2b133d146b5f84a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga01c0451a2ca3dcdd2b133d146b5f84a1">OH_AudioDecoder_SetParameter</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="el" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format)</td></tr>
<tr class="memdesc:ga01c0451a2ca3dcdd2b133d146b5f84a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set dynamic parameters to the decoder. Note: This interface can only be called after the decoder is started. At the same time, incorrect parameter settings may cause decoding failure.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga01c0451a2ca3dcdd2b133d146b5f84a1">More...</a><br /></td></tr>
<tr class="separator:ga01c0451a2ca3dcdd2b133d146b5f84a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0a2831efd77147a7112678b3f3cafdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#gad0a2831efd77147a7112678b3f3cafdf">OH_AudioDecoder_PushInputData</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index, <a class="el" href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a> attr)</td></tr>
<tr class="memdesc:gad0a2831efd77147a7112678b3f3cafdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit the input buffer filled with data to the audio decoder. The <a class="el" href="group___codec_base.html#ga3ca57dbe4d346cea319bc1bd068a7c43">OH_AVCodecOnNeedInputData</a> callback will report the available input buffer and the corresponding index value. Once the buffer with the specified index is submitted to the audio decoder, the buffer cannot be accessed again until the <a class="el" href="group___codec_base.html#ga3ca57dbe4d346cea319bc1bd068a7c43">OH_AVCodecOnNeedInputData</a> callback is received again reporting that the buffer with the same index is available. In addition, for some decoders, it is required to input Codec-Specific-Data to the decoder at the beginning to initialize the decoding process of the decoder.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#gad0a2831efd77147a7112678b3f3cafdf">More...</a><br /></td></tr>
<tr class="separator:gad0a2831efd77147a7112678b3f3cafdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e52fc06a0dd02f87afc56e81382fb05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga2e52fc06a0dd02f87afc56e81382fb05">OH_AudioDecoder_FreeOutputData</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index)</td></tr>
<tr class="memdesc:ga2e52fc06a0dd02f87afc56e81382fb05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the processed output Buffer to the decoder.  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga2e52fc06a0dd02f87afc56e81382fb05">More...</a><br /></td></tr>
<tr class="separator:ga2e52fc06a0dd02f87afc56e81382fb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c20aebeb60f69e06d820ce0aa1e77a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___audio_decoder.html#ga7c20aebeb60f69e06d820ce0aa1e77a6">OH_AudioDecoder_IsValid</a> (<a class="el" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, bool *isValid)</td></tr>
<tr class="memdesc:ga7c20aebeb60f69e06d820ce0aa1e77a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the current codec instance is valid. It can be used fault recovery or app switchback from the background  SystemCapability.Multimedia.Media.AudioDecoder.  <a href="group___audio_decoder.html#ga7c20aebeb60f69e06d820ce0aa1e77a6">More...</a><br /></td></tr>
<tr class="separator:ga7c20aebeb60f69e06d820ce0aa1e77a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declare the Native API used for audio decoding. </p>
<p>AVCodecKit  libnative_media_adec.so  SystemCapability.Multimedia.Media.AudioDecoder </p><dl class="section since"><dt>Since</dt><dd>9 </dd></dl>

<p class="definition">Definition in file <a class="el" href="native__avcodec__audiodecoder_8h_source.html">native_avcodec_audiodecoder.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2ae5151fa588ed9c5791918229f0e788.html">multimedia</a></li><li class="navelem"><a class="el" href="dir_e0a28f982d6e1d722af6232a94d975af.html">player_framework</a></li><li class="navelem"><a class="el" href="native__avcodec__audiodecoder_8h.html">native_avcodec_audiodecoder.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
