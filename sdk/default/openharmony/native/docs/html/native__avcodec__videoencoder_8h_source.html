<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference: multimedia/player_framework/native_avcodec_videoencoder.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference
   &#160;<span id="projectnumber">5.0.5.165</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('native__avcodec__videoencoder_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">native_avcodec_videoencoder.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="native__avcodec__videoencoder_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2023 Huawei Device Co., Ltd.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifndef NATIVE_AVCODEC_VIDEOENCODER_H</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define NATIVE_AVCODEC_VIDEOENCODER_H</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="native__avcodec__base_8h.html">native_avcodec_base.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="group___video_encoder.html#gafd762b1357fecd3dcc3e1c034f3d549a">   60</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="group___video_encoder.html#gafd762b1357fecd3dcc3e1c034f3d549a">OH_VideoEncoder_OnNeedInputParameter</a>)(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index, <a class="code" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *parameter,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                     <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *<a class="code" href="group___video_encoder.html#gab92007ad704ee86bbddc40356c91cb74">OH_VideoEncoder_CreateByMime</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *mime);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *<a class="code" href="group___video_encoder.html#ga5dc10a404e730229f233e52511a95e0e">OH_VideoEncoder_CreateByName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gaa1dfe766e165d6da0ea244fef5c606e2">OH_VideoEncoder_Destroy</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga7b499571521096af77115f37ec087c97">OH_VideoEncoder_SetCallback</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="code" href="struct_o_h___a_v_codec_async_callback.html">OH_AVCodecAsyncCallback</a> callback, <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gaf56a266cab89db7a47e6000a9914dce9">OH_VideoEncoder_RegisterCallback</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="code" href="struct_o_h___a_v_codec_callback.html">OH_AVCodecCallback</a> callback, <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gaa04ec5a1b76c0af6558cab72b226fd95">OH_VideoEncoder_RegisterParameterCallback</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                                       <a class="code" href="group___video_encoder.html#gafd762b1357fecd3dcc3e1c034f3d549a">OH_VideoEncoder_OnNeedInputParameter</a> onInputParameter,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                       <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga2d31e6e644ed2a33e71ceb3f7771562d">OH_VideoEncoder_Configure</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="code" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga1cb5860fd5fac4c57eac05ec4c650273">OH_VideoEncoder_Prepare</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga08d51849a8bf81f65e7ecf2befebf9ef">OH_VideoEncoder_Start</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gaabdbad84588b21524d8be34b7ce596f3">OH_VideoEncoder_Stop</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gaf2f7034cbeb27d0d03e9e0334e7ec63e">OH_VideoEncoder_Flush</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gae610479b5da50d055648f4b917218bfc">OH_VideoEncoder_Reset</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<a class="code" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *<a class="code" href="group___video_encoder.html#gaf8290cd04946201490c14bee8dae97af">OH_VideoEncoder_GetOutputDescription</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gacbfbcb85c6eb8352bc81f1559bbc1d11">OH_VideoEncoder_SetParameter</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="code" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *format);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga71ca87aec8e279e87b430f2798aca6fd">OH_VideoEncoder_GetSurface</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <a class="code" href="group___codec_base.html#gacf4cc2b55ca8f08500ba8196b112d64f">OHNativeWindow</a> **window);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gad40e64e0346a1c2e3a10db13a8d37838">OH_VideoEncoder_FreeOutputData</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gac8dbc8bfc048658c8c1349fa6eee08bb">OH_VideoEncoder_NotifyEndOfStream</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga4d88bda373aee5f97c2ff020fd2d4efb">OH_VideoEncoder_PushInputData</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index, <a class="code" href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a> attr);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gac7fd6e2b732dcf1d97b24e14bb9a2120">OH_VideoEncoder_PushInputBuffer</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga3ab39ee1ed5cd40564ccd79ecb5034f4">OH_VideoEncoder_PushInputParameter</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#gad99b97120abb638e4ccfc8a6efe9c3af">OH_VideoEncoder_FreeOutputBuffer</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, uint32_t index);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<a class="code" href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a> *<a class="code" href="group___video_encoder.html#gafba1167e2c622eb4e98d94b1e73b5602">OH_VideoEncoder_GetInputDescription</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<a class="code" href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a> <a class="code" href="group___video_encoder.html#ga0e6164c2a4e3641ef468691fd8f49664">OH_VideoEncoder_IsValid</a>(<a class="code" href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a> *codec, <span class="keywordtype">bool</span> *isValid);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="group___video_encoder.html#gae5aed6bb1e318f7fc489a7cb859578e1">  445</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group___video_encoder.html#gae5aed6bb1e318f7fc489a7cb859578e1">OH_VideoEncodeBitrateMode</a> {</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1adb1ecf549b5c6f145b2aff320909c70e">  450</a></span>&#160;    <a class="code" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1adb1ecf549b5c6f145b2aff320909c70e">CBR</a> = 0,</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a5cd8a75942875437b0216e7e61693596">  455</a></span>&#160;    <a class="code" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a5cd8a75942875437b0216e7e61693596">VBR</a> = 1,</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a3714c38a79124f71d2ec3fa8f9c03bc4">  460</a></span>&#160;    <a class="code" href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a3714c38a79124f71d2ec3fa8f9c03bc4">CQ</a> = 2,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;} <a class="code" href="group___video_encoder.html#gae5aed6bb1e318f7fc489a7cb859578e1">OH_VideoEncodeBitrateMode</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#endif // NATIVE_AVCODEC_VIDEOENCODER_H</span></div><div class="ttc" id="group___video_encoder_html_ggae5aed6bb1e318f7fc489a7cb859578e1a3714c38a79124f71d2ec3fa8f9c03bc4"><div class="ttname"><a href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a3714c38a79124f71d2ec3fa8f9c03bc4">CQ</a></div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__videoencoder_8h_source.html#l00460">native_avcodec_videoencoder.h:460</a></div></div>
<div class="ttc" id="group___video_encoder_html_gacbfbcb85c6eb8352bc81f1559bbc1d11"><div class="ttname"><a href="group___video_encoder.html#gacbfbcb85c6eb8352bc81f1559bbc1d11">OH_VideoEncoder_SetParameter</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_SetParameter(OH_AVCodec *codec, OH_AVFormat *format)</div><div class="ttdoc">Set dynamic parameters to the encoder. Note: This interface can only be called after the encoder is s...</div></div>
<div class="ttc" id="group___video_encoder_html_gac8dbc8bfc048658c8c1349fa6eee08bb"><div class="ttname"><a href="group___video_encoder.html#gac8dbc8bfc048658c8c1349fa6eee08bb">OH_VideoEncoder_NotifyEndOfStream</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_NotifyEndOfStream(OH_AVCodec *codec)</div><div class="ttdoc">Notifies the video encoder that the input stream has ended. It is recommended to use this interface t...</div></div>
<div class="ttc" id="group___video_encoder_html_ga0e6164c2a4e3641ef468691fd8f49664"><div class="ttname"><a href="group___video_encoder.html#ga0e6164c2a4e3641ef468691fd8f49664">OH_VideoEncoder_IsValid</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_IsValid(OH_AVCodec *codec, bool *isValid)</div><div class="ttdoc">Check whether the current codec instance is valid. It can be used fault recovery or app switchback fr...</div></div>
<div class="ttc" id="group___video_encoder_html_ga1cb5860fd5fac4c57eac05ec4c650273"><div class="ttname"><a href="group___video_encoder.html#ga1cb5860fd5fac4c57eac05ec4c650273">OH_VideoEncoder_Prepare</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Prepare(OH_AVCodec *codec)</div><div class="ttdoc">To prepare the internal resources of the encoder, the Configure interface must be called before calli...</div></div>
<div class="ttc" id="group___video_encoder_html_gaf8290cd04946201490c14bee8dae97af"><div class="ttname"><a href="group___video_encoder.html#gaf8290cd04946201490c14bee8dae97af">OH_VideoEncoder_GetOutputDescription</a></div><div class="ttdeci">OH_AVFormat * OH_VideoEncoder_GetOutputDescription(OH_AVCodec *codec)</div><div class="ttdoc">Get the description information of the output data of the encoder, refer to OH_AVFormat for details...</div></div>
<div class="ttc" id="group___core_html_ga19325a2ffdf3a9a214794be3960bb3b1"><div class="ttname"><a href="group___core.html#ga19325a2ffdf3a9a214794be3960bb3b1">OH_AVErrCode</a></div><div class="ttdeci">OH_AVErrCode</div><div class="ttdoc">AV error code  SystemCapability.Multimedia.Media.Core. </div><div class="ttdef"><b>Definition:</b> <a href="native__averrors_8h_source.html#l00051">native_averrors.h:51</a></div></div>
<div class="ttc" id="group___video_encoder_html_ga7b499571521096af77115f37ec087c97"><div class="ttname"><a href="group___video_encoder.html#ga7b499571521096af77115f37ec087c97">OH_VideoEncoder_SetCallback</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_SetCallback(OH_AVCodec *codec, OH_AVCodecAsyncCallback callback, void *userData)</div><div class="ttdoc">Set the asynchronous callback function so that your application can respond to the events generated b...</div></div>
<div class="ttc" id="group___codec_base_html_gacf4cc2b55ca8f08500ba8196b112d64f"><div class="ttname"><a href="group___codec_base.html#gacf4cc2b55ca8f08500ba8196b112d64f">OHNativeWindow</a></div><div class="ttdeci">struct NativeWindow OHNativeWindow</div><div class="ttdoc">Forward declaration of OHNativeWindow. </div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__base_8h_source.html#l00055">native_avcodec_base.h:55</a></div></div>
<div class="ttc" id="group___video_encoder_html_gac7fd6e2b732dcf1d97b24e14bb9a2120"><div class="ttname"><a href="group___video_encoder.html#gac7fd6e2b732dcf1d97b24e14bb9a2120">OH_VideoEncoder_PushInputBuffer</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_PushInputBuffer(OH_AVCodec *codec, uint32_t index)</div><div class="ttdoc">Submit the input buffer filled with data to the video encoder.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="group___video_encoder_html_ggae5aed6bb1e318f7fc489a7cb859578e1a5cd8a75942875437b0216e7e61693596"><div class="ttname"><a href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1a5cd8a75942875437b0216e7e61693596">VBR</a></div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__videoencoder_8h_source.html#l00455">native_avcodec_videoencoder.h:455</a></div></div>
<div class="ttc" id="group___video_encoder_html_ga2d31e6e644ed2a33e71ceb3f7771562d"><div class="ttname"><a href="group___video_encoder.html#ga2d31e6e644ed2a33e71ceb3f7771562d">OH_VideoEncoder_Configure</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Configure(OH_AVCodec *codec, OH_AVFormat *format)</div><div class="ttdoc">To configure the video encoder, typically, you need to configure the description information of the e...</div></div>
<div class="ttc" id="group___video_encoder_html_gae5aed6bb1e318f7fc489a7cb859578e1"><div class="ttname"><a href="group___video_encoder.html#gae5aed6bb1e318f7fc489a7cb859578e1">OH_VideoEncodeBitrateMode</a></div><div class="ttdeci">OH_VideoEncodeBitrateMode</div><div class="ttdoc">The bitrate mode of video encoder.  SystemCapability.Multimedia.Media.VideoEncoder. </div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__videoencoder_8h_source.html#l00445">native_avcodec_videoencoder.h:445</a></div></div>
<div class="ttc" id="group___video_encoder_html_gaf2f7034cbeb27d0d03e9e0334e7ec63e"><div class="ttname"><a href="group___video_encoder.html#gaf2f7034cbeb27d0d03e9e0334e7ec63e">OH_VideoEncoder_Flush</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Flush(OH_AVCodec *codec)</div><div class="ttdoc">Clear the input and output data buffered in the encoder. After this interface is called, all the Buffer indexes previously reported through the asynchronous callback will be invalidated, make sure not to access the Buffers corresponding to these indexes.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="group___video_encoder_html_ga4d88bda373aee5f97c2ff020fd2d4efb"><div class="ttname"><a href="group___video_encoder.html#ga4d88bda373aee5f97c2ff020fd2d4efb">OH_VideoEncoder_PushInputData</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_PushInputData(OH_AVCodec *codec, uint32_t index, OH_AVCodecBufferAttr attr)</div><div class="ttdoc">Submit the input buffer filled with data to the video encoder.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="group___video_encoder_html_gad99b97120abb638e4ccfc8a6efe9c3af"><div class="ttname"><a href="group___video_encoder.html#gad99b97120abb638e4ccfc8a6efe9c3af">OH_VideoEncoder_FreeOutputBuffer</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_FreeOutputBuffer(OH_AVCodec *codec, uint32_t index)</div><div class="ttdoc">Return the processed output Buffer to the encoder.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="group___video_encoder_html_gab92007ad704ee86bbddc40356c91cb74"><div class="ttname"><a href="group___video_encoder.html#gab92007ad704ee86bbddc40356c91cb74">OH_VideoEncoder_CreateByMime</a></div><div class="ttdeci">OH_AVCodec * OH_VideoEncoder_CreateByMime(const char *mime)</div><div class="ttdoc">Creates a video encoder instance from the mime type, which is recommended in most cases...</div></div>
<div class="ttc" id="struct_o_h___a_v_codec_async_callback_html"><div class="ttname"><a href="struct_o_h___a_v_codec_async_callback.html">OH_AVCodecAsyncCallback</a></div><div class="ttdoc">A collection of all asynchronous callback function pointers in OH_AVCodec. Register an instance of th...</div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__base_8h_source.html#l00162">native_avcodec_base.h:162</a></div></div>
<div class="ttc" id="group___video_encoder_html_gad40e64e0346a1c2e3a10db13a8d37838"><div class="ttname"><a href="group___video_encoder.html#gad40e64e0346a1c2e3a10db13a8d37838">OH_VideoEncoder_FreeOutputData</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_FreeOutputData(OH_AVCodec *codec, uint32_t index)</div><div class="ttdoc">Return the processed output Buffer to the encoder.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="native__avcodec__base_8h_html"><div class="ttname"><a href="native__avcodec__base_8h.html">native_avcodec_base.h</a></div><div class="ttdoc">Declare the Native API used for audio and video muxer, demuxer and basic encoding and decoding functi...</div></div>
<div class="ttc" id="group___video_encoder_html_gaf56a266cab89db7a47e6000a9914dce9"><div class="ttname"><a href="group___video_encoder.html#gaf56a266cab89db7a47e6000a9914dce9">OH_VideoEncoder_RegisterCallback</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_RegisterCallback(OH_AVCodec *codec, OH_AVCodecCallback callback, void *userData)</div><div class="ttdoc">Set the asynchronous callback function so that your application can respond to the events generated b...</div></div>
<div class="ttc" id="group___video_encoder_html_ga3ab39ee1ed5cd40564ccd79ecb5034f4"><div class="ttname"><a href="group___video_encoder.html#ga3ab39ee1ed5cd40564ccd79ecb5034f4">OH_VideoEncoder_PushInputParameter</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_PushInputParameter(OH_AVCodec *codec, uint32_t index)</div><div class="ttdoc">Submit the input parameter filled with data to the video encoder. </div></div>
<div class="ttc" id="group___video_encoder_html_ga5dc10a404e730229f233e52511a95e0e"><div class="ttname"><a href="group___video_encoder.html#ga5dc10a404e730229f233e52511a95e0e">OH_VideoEncoder_CreateByName</a></div><div class="ttdeci">OH_AVCodec * OH_VideoEncoder_CreateByName(const char *name)</div><div class="ttdoc">Create a video encoder instance through the video encoder name. The premise of using this interface i...</div></div>
<div class="ttc" id="group___video_encoder_html_gaabdbad84588b21524d8be34b7ce596f3"><div class="ttname"><a href="group___video_encoder.html#gaabdbad84588b21524d8be34b7ce596f3">OH_VideoEncoder_Stop</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Stop(OH_AVCodec *codec)</div><div class="ttdoc">Stop the encoder. After stopping, you can re-enter the Started state through Start.  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
<div class="ttc" id="group___video_encoder_html_gae610479b5da50d055648f4b917218bfc"><div class="ttname"><a href="group___video_encoder.html#gae610479b5da50d055648f4b917218bfc">OH_VideoEncoder_Reset</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Reset(OH_AVCodec *codec)</div><div class="ttdoc">Reset the encoder. To continue coding, you need to call the Configure interface again to configure th...</div></div>
<div class="ttc" id="group___video_encoder_html_gafd762b1357fecd3dcc3e1c034f3d549a"><div class="ttname"><a href="group___video_encoder.html#gafd762b1357fecd3dcc3e1c034f3d549a">OH_VideoEncoder_OnNeedInputParameter</a></div><div class="ttdeci">void(* OH_VideoEncoder_OnNeedInputParameter)(OH_AVCodec *codec, uint32_t index, OH_AVFormat *parameter, void *userData)</div><div class="ttdoc">When OH_AVCodec needs new input parameter during the running process, the function pointer will be ca...</div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__videoencoder_8h_source.html#l00060">native_avcodec_videoencoder.h:60</a></div></div>
<div class="ttc" id="group___video_encoder_html_ga71ca87aec8e279e87b430f2798aca6fd"><div class="ttname"><a href="group___video_encoder.html#ga71ca87aec8e279e87b430f2798aca6fd">OH_VideoEncoder_GetSurface</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_GetSurface(OH_AVCodec *codec, OHNativeWindow **window)</div><div class="ttdoc">Get the input Surface from the video encoder, this interface must be called before Prepare is called...</div></div>
<div class="ttc" id="group___video_encoder_html_gafba1167e2c622eb4e98d94b1e73b5602"><div class="ttname"><a href="group___video_encoder.html#gafba1167e2c622eb4e98d94b1e73b5602">OH_VideoEncoder_GetInputDescription</a></div><div class="ttdeci">OH_AVFormat * OH_VideoEncoder_GetInputDescription(OH_AVCodec *codec)</div><div class="ttdoc">Get the input data description of the encoder after call {}, refer to OH_AVFormat for details...</div></div>
<div class="ttc" id="struct_o_h___a_v_codec_callback_html"><div class="ttname"><a href="struct_o_h___a_v_codec_callback.html">OH_AVCodecCallback</a></div><div class="ttdoc">A collection of all asynchronous callback function pointers in OH_AVCodec. Register an instance of th...</div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__base_8h_source.html#l00181">native_avcodec_base.h:181</a></div></div>
<div class="ttc" id="group___core_html_ga32bc979dd132369c56406d233fcce184"><div class="ttname"><a href="group___core.html#ga32bc979dd132369c56406d233fcce184">OH_AVFormat</a></div><div class="ttdeci">struct OH_AVFormat OH_AVFormat</div><div class="ttdoc">Forward declaration of OH_AVFormat. </div><div class="ttdef"><b>Definition:</b> <a href="native__avformat_8h_source.html#l00054">native_avformat.h:54</a></div></div>
<div class="ttc" id="group___video_encoder_html_ga08d51849a8bf81f65e7ecf2befebf9ef"><div class="ttname"><a href="group___video_encoder.html#ga08d51849a8bf81f65e7ecf2befebf9ef">OH_VideoEncoder_Start</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Start(OH_AVCodec *codec)</div><div class="ttdoc">Start the encoder, this interface must be called after the Prepare is successful. After being success...</div></div>
<div class="ttc" id="group___video_encoder_html_gaa04ec5a1b76c0af6558cab72b226fd95"><div class="ttname"><a href="group___video_encoder.html#gaa04ec5a1b76c0af6558cab72b226fd95">OH_VideoEncoder_RegisterParameterCallback</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_RegisterParameterCallback(OH_AVCodec *codec, OH_VideoEncoder_OnNeedInputParameter onInputParameter, void *userData)</div><div class="ttdoc">Set the asynchronous callback function so that your application can respond to the events generated b...</div></div>
<div class="ttc" id="group___codec_base_html_gac0fd370328e38fb7cc3315c0f1b58f8b"><div class="ttname"><a href="group___codec_base.html#gac0fd370328e38fb7cc3315c0f1b58f8b">OH_AVCodec</a></div><div class="ttdeci">struct OH_AVCodec OH_AVCodec</div><div class="ttdoc">Forward declaration of OH_AVCodec. </div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__base_8h_source.html#l00061">native_avcodec_base.h:61</a></div></div>
<div class="ttc" id="struct_o_h___a_v_codec_buffer_attr_html"><div class="ttname"><a href="struct_o_h___a_v_codec_buffer_attr.html">OH_AVCodecBufferAttr</a></div><div class="ttdoc">Define the Buffer description information of OH_AVCodec  SystemCapability.Multimedia.Media.Core. </div><div class="ttdef"><b>Definition:</b> <a href="native__avbuffer__info_8h_source.html#l00079">native_avbuffer_info.h:79</a></div></div>
<div class="ttc" id="group___video_encoder_html_ggae5aed6bb1e318f7fc489a7cb859578e1adb1ecf549b5c6f145b2aff320909c70e"><div class="ttname"><a href="group___video_encoder.html#ggae5aed6bb1e318f7fc489a7cb859578e1adb1ecf549b5c6f145b2aff320909c70e">CBR</a></div><div class="ttdef"><b>Definition:</b> <a href="native__avcodec__videoencoder_8h_source.html#l00450">native_avcodec_videoencoder.h:450</a></div></div>
<div class="ttc" id="group___video_encoder_html_gaa1dfe766e165d6da0ea244fef5c606e2"><div class="ttname"><a href="group___video_encoder.html#gaa1dfe766e165d6da0ea244fef5c606e2">OH_VideoEncoder_Destroy</a></div><div class="ttdeci">OH_AVErrCode OH_VideoEncoder_Destroy(OH_AVCodec *codec)</div><div class="ttdoc">Clear the internal resources of the encoder and destroy the encoder instance  SystemCapability.Multimedia.Media.VideoEncoder. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2ae5151fa588ed9c5791918229f0e788.html">multimedia</a></li><li class="navelem"><a class="el" href="dir_e0a28f982d6e1d722af6232a94d975af.html">player_framework</a></li><li class="navelem"><a class="el" href="native__avcodec__videoencoder_8h.html">native_avcodec_videoencoder.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
