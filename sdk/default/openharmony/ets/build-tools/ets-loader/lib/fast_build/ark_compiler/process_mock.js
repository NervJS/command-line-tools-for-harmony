"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ORIGIN_EXTENTION=void 0,exports.disableMockDecorator=disableMockDecorator,exports.isMockDecorator=isMockDecorator;var _typescript=_interopRequireDefault(require("typescript")),_main=require("../../../main"),_pre_define=require("../../pre_define");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function disableMockDecorator(e){if(!shouldDisableMockDecorator())return!1;var t=e.parent;switch(t.kind){case _typescript.default.SyntaxKind.Parameter:_typescript.default.factory.updateParameterDeclaration(t,_typescript.default.getModifiers(t),t.dotDotDotToken,t.name,t.questionToken,t.type,t.initializer);break;case _typescript.default.SyntaxKind.MethodDeclaration:_typescript.default.factory.updateMethodDeclaration(t,_typescript.default.getModifiers(t),t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);break;case _typescript.default.SyntaxKind.Constructor:_typescript.default.factory.updateConstructorDeclaration(t,_typescript.default.getModifiers(t),t.parameters,t.body);break;case _typescript.default.SyntaxKind.GetAccessor:_typescript.default.factory.updateGetAccessorDeclaration(t,_typescript.default.getModifiers(t),t.name,t.parameters,t.type,t.body);break;case _typescript.default.SyntaxKind.SetAccessor:_typescript.default.factory.updateSetAccessorDeclaration(t,_typescript.default.getModifiers(t),t.name,t.parameters,t.body);break;case _typescript.default.SyntaxKind.PropertyDeclaration:t.questionToken?_typescript.default.factory.updatePropertyDeclaration(t,_typescript.default.getModifiers(t),t.name,t.questionToken,t.type,t.initializer):t.exclamationToken?_typescript.default.factory.updatePropertyDeclaration(t,_typescript.default.getModifiers(t),t.name,t.exclamationToken,t.type,t.initializer):_typescript.default.factory.updatePropertyDeclaration(t,_typescript.default.getModifiers(t),t.name,void 0,t.type,t.initializer);break;case _typescript.default.SyntaxKind.ClassDeclaration:_typescript.default.factory.updateClassDeclaration(t,_typescript.default.getModifiers(t),t.name,t.typeParameters,t.heritageClauses,t.members)}return!0}function removeMockDecorator(e){var t,r;for(r of e)isMockDecorator(r)||t.push(r);return t}function isMockDecorator(e){var t,e=e.expression;return!!_typescript.default.isIdentifier(e)&&!!_main.projectConfig.mockParams&&(t=_main.projectConfig.mockParams.decorator.replace(_pre_define.DECORATOR_SUFFIX,""),e.escapedText.toString()===t)}function shouldDisableMockDecorator(){return!_main.projectConfig.isPreview&&!!(_main.projectConfig.mockParams&&_main.projectConfig.mockParams.decorator&&_main.projectConfig.mockParams.packageName)}const ORIGIN_EXTENTION=".origin";exports.ORIGIN_EXTENTION=ORIGIN_EXTENTION;